<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/KyberNetwork/smart-intent-sc" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="foundry"><a class="header" href="#foundry">Foundry</a></h2>
<p><strong>Foundry is a blazing fast, portable and modular toolkit for Ethereum application development written in Rust.</strong></p>
<p>Foundry consists of:</p>
<ul>
<li><strong>Forge</strong>: Ethereum testing framework (like Truffle, Hardhat and DappTools).</li>
<li><strong>Cast</strong>: Swiss army knife for interacting with EVM smart contracts, sending transactions and getting chain data.</li>
<li><strong>Anvil</strong>: Local Ethereum node, akin to Ganache, Hardhat Network.</li>
<li><strong>Chisel</strong>: Fast, utilitarian, and verbose solidity REPL.</li>
</ul>
<h2 id="documentation"><a class="header" href="#documentation">Documentation</a></h2>
<p>https://book.getfoundry.sh/</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<h3 id="build"><a class="header" href="#build">Build</a></h3>
<pre><code class="language-shell">$ forge build
</code></pre>
<h3 id="test"><a class="header" href="#test">Test</a></h3>
<pre><code class="language-shell">$ forge test
</code></pre>
<h3 id="format"><a class="header" href="#format">Format</a></h3>
<pre><code class="language-shell">$ forge fmt
</code></pre>
<h3 id="gas-snapshots"><a class="header" href="#gas-snapshots">Gas Snapshots</a></h3>
<pre><code class="language-shell">$ forge snapshot
</code></pre>
<h3 id="anvil"><a class="header" href="#anvil">Anvil</a></h3>
<pre><code class="language-shell">$ anvil
</code></pre>
<h3 id="deploy"><a class="header" href="#deploy">Deploy</a></h3>
<pre><code class="language-shell">$ forge script script/Counter.s.sol:CounterScript --rpc-url &lt;your_rpc_url&gt; --private-key &lt;your_private_key&gt;
</code></pre>
<h3 id="cast"><a class="header" href="#cast">Cast</a></h3>
<pre><code class="language-shell">$ cast &lt;subcommand&gt;
</code></pre>
<h3 id="help"><a class="header" href="#help">Help</a></h3>
<pre><code class="language-shell">$ forge --help
$ anvil --help
$ cast --help
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/hooks//src/hooks/base">base</a></li>
<li><a href="src/hooks//src/hooks/remove-liq">remove-liq</a></li>
<li><a href="src/hooks//src/hooks/swap">swap</a></li>
<li><a href="src/hooks//src/hooks/zap-out">zap-out</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/hooks/base/BaseConditionalHook.sol/struct.TimeCondition.html">TimeCondition</a></li>
<li><a href="src/hooks/base/BaseConditionalHook.sol/struct.YieldCondition.html">YieldCondition</a></li>
<li><a href="src/hooks/base/BaseConditionalHook.sol/struct.PriceCondition.html">PriceCondition</a></li>
<li><a href="src/hooks/base/BaseConditionalHook.sol/abstract.BaseConditionalHook.html">BaseConditionalHook</a></li>
<li><a href="src/hooks/base/BaseHook.sol/abstract.BaseHook.html">BaseHook</a></li>
<li><a href="src/hooks/base/BaseStatefulHook.sol/abstract.BaseStatefulHook.html">BaseStatefulHook</a></li>
<li><a href="src/hooks/base/BaseTickBasedRemoveLiquidityHook.sol/abstract.BaseTickBasedRemoveLiquidityHook.html">BaseTickBasedRemoveLiquidityHook</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="timecondition"><a class="header" href="#timecondition">TimeCondition</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/base/BaseConditionalHook.sol">Git Source</a></p>
<pre><code class="language-solidity">struct TimeCondition {
  uint256 startTimestamp;
  uint256 endTimestamp;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>startTimestamp</code></td><td><code>uint256</code></td><td>the start timestamp of the condition</td></tr>
<tr><td><code>endTimestamp</code></td><td><code>uint256</code></td><td>the end timestamp of the condition</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="yieldcondition"><a class="header" href="#yieldcondition">YieldCondition</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/base/BaseConditionalHook.sol">Git Source</a></p>
<pre><code class="language-solidity">struct YieldCondition {
  uint256 targetYield;
  uint256 initialAmounts;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>targetYield</code></td><td><code>uint256</code></td><td>the target yield threshold (1e6 precision)</td></tr>
<tr><td><code>initialAmounts</code></td><td><code>uint256</code></td><td>the initial amounts of the tokens</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="pricecondition"><a class="header" href="#pricecondition">PriceCondition</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/base/BaseConditionalHook.sol">Git Source</a></p>
<pre><code class="language-solidity">struct PriceCondition {
  uint256 minPrice;
  uint256 maxPrice;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minPrice</code></td><td><code>uint256</code></td><td>the minimum price of the token (would be in sqrtPriceX96 if uni v3 pool type)</td></tr>
<tr><td><code>maxPrice</code></td><td><code>uint256</code></td><td>the maximum price of the token (would be in sqrtPriceX96 if uni v3 pool type)</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="baseconditionalhook"><a class="header" href="#baseconditionalhook">BaseConditionalHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/base/BaseConditionalHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/base/BaseConditionalHook.sol//src/hooks/base/BaseHook.sol/abstract.BaseHook.html">BaseHook</a>, <a href="src/hooks/base/BaseConditionalHook.sol//src/interfaces/hooks/IKSConditionalHook.sol/interface.IKSConditionalHook.html">IKSConditionalHook</a></p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="price_based"><a class="header" href="#price_based">PRICE_BASED</a></h3>
<pre><code class="language-solidity">ConditionType public constant PRICE_BASED = ConditionType.wrap(keccak256('PRICE_BASED'));
</code></pre>
<h3 id="time_based"><a class="header" href="#time_based">TIME_BASED</a></h3>
<pre><code class="language-solidity">ConditionType public constant TIME_BASED = ConditionType.wrap(keccak256('TIME_BASED'));
</code></pre>
<h3 id="yield_based"><a class="header" href="#yield_based">YIELD_BASED</a></h3>
<pre><code class="language-solidity">ConditionType public constant YIELD_BASED = ConditionType.wrap(keccak256('YIELD_BASED'));
</code></pre>
<h3 id="precision"><a class="header" href="#precision">PRECISION</a></h3>
<pre><code class="language-solidity">uint256 public constant PRECISION = 1_000_000;
</code></pre>
<h3 id="q96"><a class="header" href="#q96">Q96</a></h3>
<pre><code class="language-solidity">uint256 public constant Q96 = 1 &lt;&lt; 96;
</code></pre>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="validateconditiontree"><a class="header" href="#validateconditiontree">validateConditionTree</a></h3>
<p>Validates a condition tree starting from the specified root node</p>
<p><em>Reverts with ConditionsNotMet() if the conditions are not met</em></p>
<pre><code class="language-solidity">function validateConditionTree(ConditionTree calldata tree, uint256 curIndex) external view virtual;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tree</code></td><td><code>ConditionTree</code></td><td></td></tr>
<tr><td><code>curIndex</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="evaluatecondition"><a class="header" href="#evaluatecondition">evaluateCondition</a></h3>
<pre><code class="language-solidity">function evaluateCondition(Condition calldata condition, bytes calldata additionalData)
  public
  view
  virtual
  returns (bool isSatisfied);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>condition</code></td><td><code>Condition</code></td><td>the condition to be evaluated</td></tr>
<tr><td><code>additionalData</code></td><td><code>bytes</code></td><td>the additional data to be used for evaluation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>isSatisfied</code></td><td><code>bool</code></td><td>true if the condition is met, false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="_evaluatetimecondition"><a class="header" href="#_evaluatetimecondition">_evaluateTimeCondition</a></h3>
<p>helper function to evaluate time condition</p>
<pre><code class="language-solidity">function _evaluateTimeCondition(Condition calldata condition) internal view virtual returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>condition</code></td><td><code>Condition</code></td><td>the condition to evaluate</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if the condition is satisfied, false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="_evaluatepricecondition"><a class="header" href="#_evaluatepricecondition">_evaluatePriceCondition</a></h3>
<p>helper function to evaluate price condition</p>
<pre><code class="language-solidity">function _evaluatePriceCondition(Condition calldata condition, bytes calldata additionalData)
  internal
  pure
  virtual
  returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>condition</code></td><td><code>Condition</code></td><td>the price condition to evaluate</td></tr>
<tr><td><code>additionalData</code></td><td><code>bytes</code></td><td>the abi encoded data of the current price</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if the condition is satisfied, false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="_evaluateyieldcondition"><a class="header" href="#_evaluateyieldcondition">_evaluateYieldCondition</a></h3>
<p>helper function to evaluate whether the yield condition is satisfied</p>
<p><em>Calculates yield as: (fees_in_token0_terms) / (initial_amounts_in_token0_terms)</em></p>
<pre><code class="language-solidity">function _evaluateYieldCondition(Condition calldata condition, bytes calldata additionalData)
  internal
  pure
  virtual
  returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>condition</code></td><td><code>Condition</code></td><td>The yield condition containing target yield and initial amounts</td></tr>
<tr><td><code>additionalData</code></td><td><code>bytes</code></td><td>Encoded fee0, fee1, and poolPrice (sqrtPriceX96 if uni v3 pool type) values</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if actual yield &gt;= target yield, false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="_converttoken1totoken0"><a class="header" href="#_converttoken1totoken0">_convertToken1ToToken0</a></h3>
<p>Converts token1 amount to equivalent token0 amount using current price</p>
<p><em>formula: amount0 = amount1 * Q192 / sqrtPriceX96^2</em></p>
<pre><code class="language-solidity">function _convertToken1ToToken0(uint256 sqrtPriceX96, uint256 amount1)
  internal
  pure
  virtual
  returns (uint256 amount0);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtPriceX96</code></td><td><code>uint256</code></td><td>The pool's sqrt price</td></tr>
<tr><td><code>amount1</code></td><td><code>uint256</code></td><td>Amount of token1 to convert</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount0</code></td><td><code>uint256</code></td><td>Equivalent amount in token0 terms</td></tr>
</tbody></table>
</div>
<h3 id="_decodepricecondition"><a class="header" href="#_decodepricecondition">_decodePriceCondition</a></h3>
<pre><code class="language-solidity">function _decodePriceCondition(bytes calldata data)
  internal
  pure
  returns (PriceCondition calldata priceCondition);
</code></pre>
<h3 id="_decodetimecondition"><a class="header" href="#_decodetimecondition">_decodeTimeCondition</a></h3>
<pre><code class="language-solidity">function _decodeTimeCondition(bytes calldata data)
  internal
  pure
  returns (TimeCondition calldata timeCondition);
</code></pre>
<h3 id="_decodeyieldcondition"><a class="header" href="#_decodeyieldcondition">_decodeYieldCondition</a></h3>
<pre><code class="language-solidity">function _decodeYieldCondition(bytes calldata data)
  internal
  pure
  returns (YieldCondition calldata yieldCondition);
</code></pre>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="wrongconditiontype"><a class="header" href="#wrongconditiontype">WrongConditionType</a></h3>
<pre><code class="language-solidity">error WrongConditionType();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basehook"><a class="header" href="#basehook">BaseHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/base/BaseHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/base/BaseHook.sol//src/interfaces/hooks/IKSSmartIntentHook.sol/interface.IKSSmartIntentHook.html">IKSSmartIntentHook</a></p>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="checktokenlengths"><a class="header" href="#checktokenlengths">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) virtual;
</code></pre>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="invalidtokendata"><a class="header" href="#invalidtokendata">InvalidTokenData</a></h3>
<pre><code class="language-solidity">error InvalidTokenData();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basestatefulhook"><a class="header" href="#basestatefulhook">BaseStatefulHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/base/BaseStatefulHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/base/BaseStatefulHook.sol//src/hooks/base/BaseHook.sol/abstract.BaseHook.html">BaseHook</a></p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="whitelistedrouters"><a class="header" href="#whitelistedrouters">whitelistedRouters</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public whitelistedRouters;
</code></pre>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<pre><code class="language-solidity">constructor(address[] memory initialRouters);
</code></pre>
<h3 id="onlywhitelistedrouter"><a class="header" href="#onlywhitelistedrouter">onlyWhitelistedRouter</a></h3>
<pre><code class="language-solidity">modifier onlyWhitelistedRouter();
</code></pre>
<h2 id="errors-2"><a class="header" href="#errors-2">Errors</a></h2>
<h3 id="nonwhitelistedrouter"><a class="header" href="#nonwhitelistedrouter">NonWhitelistedRouter</a></h3>
<pre><code class="language-solidity">error NonWhitelistedRouter(address router);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basetickbasedremoveliquidityhook"><a class="header" href="#basetickbasedremoveliquidityhook">BaseTickBasedRemoveLiquidityHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/base/BaseTickBasedRemoveLiquidityHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/base/BaseTickBasedRemoveLiquidityHook.sol//src/hooks/base/BaseConditionalHook.sol/abstract.BaseConditionalHook.html">BaseConditionalHook</a></p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="q128"><a class="header" href="#q128">Q128</a></h3>
<pre><code class="language-solidity">uint256 public constant Q128 = 1 &lt;&lt; 128;
</code></pre>
<h3 id="weth"><a class="header" href="#weth">WETH</a></h3>
<pre><code class="language-solidity">address public immutable WETH;
</code></pre>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="checktokenlengths-1"><a class="header" href="#checktokenlengths-1">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) override;
</code></pre>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _weth);
</code></pre>
<h3 id="beforeexecution"><a class="header" href="#beforeexecution">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(bytes32, IntentData calldata intentData, ActionData calldata actionData)
  external
  view
  override
  checkTokenLengths(actionData)
  returns (uint256[] memory, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>fees the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution"><a class="header" href="#afterexecution">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata
)
  external
  override
  returns (
    address[] memory tokens,
    uint256[] memory fees,
    uint256[] memory amounts,
    address recipient
  );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>address[]</code></td><td>the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the fees to be taken</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>the address of the recipient</td></tr>
</tbody></table>
</div>
<h3 id="_validatebeforeexecution"><a class="header" href="#_validatebeforeexecution">_validateBeforeExecution</a></h3>
<pre><code class="language-solidity">function _validateBeforeExecution(IntentData calldata intentData, ActionData calldata actionData)
  internal
  view
  virtual
  returns (bytes memory beforeExecutionData);
</code></pre>
<h3 id="_validateafterexecution"><a class="header" href="#_validateafterexecution">_validateAfterExecution</a></h3>
<pre><code class="language-solidity">function _validateAfterExecution(IntentData calldata intentData, bytes calldata beforeExecutionData)
  internal
  virtual
  returns (
    address[] memory tokens,
    uint256[] memory fees,
    uint256[] memory amounts,
    address recipient
  );
</code></pre>
<h3 id="_validateoutput"><a class="header" href="#_validateoutput">_validateOutput</a></h3>
<p>Validate the output after removing liquidity</p>
<pre><code class="language-solidity">function _validateOutput(
  OutputValidationParams calldata outputParams,
  PositionInfo calldata positionInfo
) internal view virtual returns (uint256[] memory fees, uint256[] memory userReceived);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>outputParams</code></td><td><code>OutputValidationParams</code></td><td>The params used to validate output after execution</td></tr>
<tr><td><code>positionInfo</code></td><td><code>PositionInfo</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>The fees will be charged</td></tr>
<tr><td><code>userReceived</code></td><td><code>uint256[]</code></td><td>The amounts of tokens user will receive after removing liquidity</td></tr>
</tbody></table>
</div>
<h3 id="_cachebasedata"><a class="header" href="#_cachebasedata">_cacheBaseData</a></h3>
<pre><code class="language-solidity">function _cacheBaseData(
  RemoveLiquidityHookData calldata validationData,
  bytes calldata hookActionData,
  RemoveLiquidityParams memory removeLiqParams,
  OutputValidationParams memory outputParams
) internal view virtual;
</code></pre>
<h3 id="_validateconditions"><a class="header" href="#_validateconditions">_validateConditions</a></h3>
<pre><code class="language-solidity">function _validateConditions(
  Node[] calldata nodes,
  uint256 fee0Collected,
  uint256 fee1Collected,
  uint256 poolPrice
) internal view virtual;
</code></pre>
<h3 id="_validatetokenowner"><a class="header" href="#_validatetokenowner">_validateTokenOwner</a></h3>
<pre><code class="language-solidity">function _validateTokenOwner(address nftAddress, uint256 nftId, address owner)
  internal
  view
  virtual;
</code></pre>
<h3 id="_validateliquidity"><a class="header" href="#_validateliquidity">_validateLiquidity</a></h3>
<pre><code class="language-solidity">function _validateLiquidity(RemoveLiquidityParams calldata removeLiquidityParams)
  internal
  view
  virtual;
</code></pre>
<h3 id="_getpositionliquidity"><a class="header" href="#_getpositionliquidity">_getPositionLiquidity</a></h3>
<pre><code class="language-solidity">function _getPositionLiquidity(address nftAddress, uint256 nftId)
  internal
  view
  virtual
  returns (uint256 liquidity);
</code></pre>
<h3 id="_recordrouterbalances"><a class="header" href="#_recordrouterbalances">_recordRouterBalances</a></h3>
<pre><code class="language-solidity">function _recordRouterBalances(address router, address[2] memory tokens)
  internal
  view
  returns (uint256 balance0, uint256 balance1);
</code></pre>
<h3 id="_adjusttokens"><a class="header" href="#_adjusttokens">_adjustTokens</a></h3>
<pre><code class="language-solidity">function _adjustTokens(address[2] memory tokens)
  internal
  view
  returns (address[2] memory adjustedTokens);
</code></pre>
<h3 id="_buildconditiontree"><a class="header" href="#_buildconditiontree">_buildConditionTree</a></h3>
<pre><code class="language-solidity">function _buildConditionTree(
  Node[] calldata nodes,
  uint256 fee0Collected,
  uint256 fee1Collected,
  uint256 poolPrice
) internal pure virtual returns (ConditionTree memory conditionTree);
</code></pre>
<h3 id="_decodehookdata"><a class="header" href="#_decodehookdata">_decodeHookData</a></h3>
<pre><code class="language-solidity">function _decodeHookData(bytes calldata data)
  internal
  pure
  returns (RemoveLiquidityHookData calldata validationData);
</code></pre>
<h3 id="_decodehookactiondata"><a class="header" href="#_decodehookactiondata">_decodeHookActionData</a></h3>
<pre><code class="language-solidity">function _decodeHookActionData(bytes calldata data)
  internal
  pure
  virtual
  returns (
    uint256 index,
    uint256 fee0Generated,
    uint256 fee1Generated,
    uint256 liquidity,
    bool wrapOrUnwrap,
    uint256[2] memory intentFeesPercent
  );
</code></pre>
<h3 id="_decodebeforeexecutiondata"><a class="header" href="#_decodebeforeexecutiondata">_decodeBeforeExecutionData</a></h3>
<pre><code class="language-solidity">function _decodeBeforeExecutionData(bytes calldata data)
  internal
  pure
  virtual
  returns (
    RemoveLiquidityParams calldata removeLiqParams,
    OutputValidationParams calldata outputParams
  );
</code></pre>
<h3 id="_adjusttoken"><a class="header" href="#_adjusttoken">_adjustToken</a></h3>
<pre><code class="language-solidity">function _adjustToken(address token) internal view returns (address adjustedToken);
</code></pre>
<h3 id="_tonative"><a class="header" href="#_tonative">_toNative</a></h3>
<pre><code class="language-solidity">function _toNative(address token) internal pure returns (address nativeToken);
</code></pre>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="liquidityremoved"><a class="header" href="#liquidityremoved">LiquidityRemoved</a></h3>
<pre><code class="language-solidity">event LiquidityRemoved(address nftAddress, uint256 nftId, uint256 liquidity);
</code></pre>
<h2 id="errors-3"><a class="header" href="#errors-3">Errors</a></h2>
<h3 id="invalidowner"><a class="header" href="#invalidowner">InvalidOwner</a></h3>
<pre><code class="language-solidity">error InvalidOwner();
</code></pre>
<h3 id="invalidliquidity"><a class="header" href="#invalidliquidity">InvalidLiquidity</a></h3>
<pre><code class="language-solidity">error InvalidLiquidity();
</code></pre>
<h3 id="notenoughoutputamount"><a class="header" href="#notenoughoutputamount">NotEnoughOutputAmount</a></h3>
<pre><code class="language-solidity">error NotEnoughOutputAmount();
</code></pre>
<h3 id="notenoughfeesreceived"><a class="header" href="#notenoughfeesreceived">NotEnoughFeesReceived</a></h3>
<pre><code class="language-solidity">error NotEnoughFeesReceived();
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="removeliquidityhookdata"><a class="header" href="#removeliquidityhookdata">RemoveLiquidityHookData</a></h3>
<p>Data structure for remove liquidity validation</p>
<pre><code class="language-solidity">struct RemoveLiquidityHookData {
  address[] nftAddresses;
  uint256[] nftIds;
  Node[][] nodes;
  uint256[] maxFees;
  address recipient;
  bytes additionalData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nftAddresses</code></td><td><code>address[]</code></td><td>The NFT addresses</td></tr>
<tr><td><code>nftIds</code></td><td><code>uint256[]</code></td><td>The NFT IDs</td></tr>
<tr><td><code>nodes</code></td><td><code>Node[][]</code></td><td>The nodes of conditions (used to build the condition tree)</td></tr>
<tr><td><code>maxFees</code></td><td><code>uint256[]</code></td><td>The max fee percents for each output token (1e6 = 100%), [128 bits token0 max fee, 128 bits token1 max fee]</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient</td></tr>
<tr><td><code>additionalData</code></td><td><code>bytes</code></td><td>The additional data</td></tr>
</tbody></table>
</div>
<h3 id="removeliquidityparams"><a class="header" href="#removeliquidityparams">RemoveLiquidityParams</a></h3>
<p>Data structure for remove liquidity params</p>
<pre><code class="language-solidity">struct RemoveLiquidityParams {
  uint256 index;
  uint256 liquidityToRemove;
  bool wrapOrUnwrap;
  address recipient;
  uint160 sqrtPriceX96;
  int24 currentTick;
  PositionInfo positionInfo;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>index</code></td><td><code>uint256</code></td><td>The index of validation data in RemoveLiquidityHookData struct</td></tr>
<tr><td><code>liquidityToRemove</code></td><td><code>uint256</code></td><td>The liquidity to remove</td></tr>
<tr><td><code>wrapOrUnwrap</code></td><td><code>bool</code></td><td>Whether to wrap or unwrap the tokens after removing liquidity</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient of the output tokens</td></tr>
<tr><td><code>sqrtPriceX96</code></td><td><code>uint160</code></td><td></td></tr>
<tr><td><code>currentTick</code></td><td><code>int24</code></td><td>The current tick of the pool</td></tr>
<tr><td><code>positionInfo</code></td><td><code>PositionInfo</code></td><td>The position info of the NFT</td></tr>
</tbody></table>
</div>
<h3 id="outputvalidationparams"><a class="header" href="#outputvalidationparams">OutputValidationParams</a></h3>
<p>Data structure for output validation params</p>
<pre><code class="language-solidity">struct OutputValidationParams {
  address router;
  uint256[2] balancesBefore;
  uint256[2] maxFees;
  uint256[2] intentFeesPercent;
  address[2] tokens;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>router</code></td><td><code>address</code></td><td>The router address that receives the output tokens after removing liquidity</td></tr>
<tr><td><code>balancesBefore</code></td><td><code>uint256[2]</code></td><td>The token0, token1 balances of the router before removing liquidity</td></tr>
<tr><td><code>maxFees</code></td><td><code>uint256[2]</code></td><td>The max fee percents for each output token (1e6 = 100%)</td></tr>
<tr><td><code>intentFeesPercent</code></td><td><code>uint256[2]</code></td><td>The intent fees percents for each output token (1e6 = 100%)</td></tr>
<tr><td><code>tokens</code></td><td><code>address[2]</code></td><td>The token0, token1 of the pool</td></tr>
</tbody></table>
</div>
<h3 id="positioninfo"><a class="header" href="#positioninfo">PositionInfo</a></h3>
<p>Data structure for position info</p>
<pre><code class="language-solidity">struct PositionInfo {
  address nftAddress;
  uint256 nftId;
  uint256 liquidity;
  int24[2] ticks;
  uint256[2] feesGrowthInsideLast;
  uint256[2] feesGenerated;
  uint256[2] amounts;
  uint256[2] unclaimedFees;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nftAddress</code></td><td><code>address</code></td><td>The NFT address</td></tr>
<tr><td><code>nftId</code></td><td><code>uint256</code></td><td>The NFT ID</td></tr>
<tr><td><code>liquidity</code></td><td><code>uint256</code></td><td>The liquidity of the position before removing liquidity</td></tr>
<tr><td><code>ticks</code></td><td><code>int24[2]</code></td><td>Position tick range [tickLower, tickUpper]</td></tr>
<tr><td><code>feesGrowthInsideLast</code></td><td><code>uint256[2]</code></td><td>The fees growth count of token0 and token1 since last time updated</td></tr>
<tr><td><code>feesGenerated</code></td><td><code>uint256[2]</code></td><td>The fees generated of token0 and token1</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[2]</code></td><td>The expected amounts of tokens received from removing the specified liquidity</td></tr>
<tr><td><code>unclaimedFees</code></td><td><code>uint256[2]</code></td><td>The unclaimed fees of the position</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-2"><a class="header" href="#contents-2">Contents</a></h1>
<ul>
<li><a href="src/hooks/remove-liq/KSRemoveLiquidityPancakeV4CLHook.sol/contract.KSRemoveLiquidityPancakeV4CLHook.html">KSRemoveLiquidityPancakeV4CLHook</a></li>
<li><a href="src/hooks/remove-liq/KSRemoveLiquidityUniswapV3Hook.sol/contract.KSRemoveLiquidityUniswapV3Hook.html">KSRemoveLiquidityUniswapV3Hook</a></li>
<li><a href="src/hooks/remove-liq/KSRemoveLiquidityUniswapV4Hook.sol/contract.KSRemoveLiquidityUniswapV4Hook.html">KSRemoveLiquidityUniswapV4Hook</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ksremoveliquiditypancakev4clhook"><a class="header" href="#ksremoveliquiditypancakev4clhook">KSRemoveLiquidityPancakeV4CLHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/remove-liq/KSRemoveLiquidityPancakeV4CLHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/remove-liq/KSRemoveLiquidityPancakeV4CLHook.sol//src/hooks/base/BaseTickBasedRemoveLiquidityHook.sol/abstract.BaseTickBasedRemoveLiquidityHook.html">BaseTickBasedRemoveLiquidityHook</a></p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _weth) BaseTickBasedRemoveLiquidityHook(_weth);
</code></pre>
<h3 id="_validatebeforeexecution-1"><a class="header" href="#_validatebeforeexecution-1">_validateBeforeExecution</a></h3>
<pre><code class="language-solidity">function _validateBeforeExecution(IntentData calldata intentData, ActionData calldata actionData)
  internal
  view
  override
  returns (bytes memory beforeExecutionData);
</code></pre>
<h3 id="_cachevalidationdata"><a class="header" href="#_cachevalidationdata">_cacheValidationData</a></h3>
<pre><code class="language-solidity">function _cacheValidationData(
  PancakeV4CLParams memory pancakeCL,
  RemoveLiquidityHookData calldata validationData,
  bytes calldata hookActionData
) internal view;
</code></pre>
<h3 id="_computepositionvalues"><a class="header" href="#_computepositionvalues">_computePositionValues</a></h3>
<pre><code class="language-solidity">function _computePositionValues(PancakeV4CLParams memory pancakeCL) internal view;
</code></pre>
<h3 id="_getfeegrowthinside"><a class="header" href="#_getfeegrowthinside">_getFeeGrowthInside</a></h3>
<pre><code class="language-solidity">function _getFeeGrowthInside(
  ICLPoolManager clPoolManager,
  PoolId poolId,
  int24 tickLower,
  int24 tickCurrent,
  int24 tickUpper
) internal view returns (uint256 feeGrowthInside0X128, uint256 feeGrowthInside1X128);
</code></pre>
<h3 id="_toid"><a class="header" href="#_toid">_toId</a></h3>
<pre><code class="language-solidity">function _toId(PoolKey memory poolKey) internal pure returns (PoolId poolId);
</code></pre>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="pancakev4clparams"><a class="header" href="#pancakev4clparams">PancakeV4CLParams</a></h3>
<p>Parameters used for remove liquidity validation of a pancake v4 CL position</p>
<pre><code class="language-solidity">struct PancakeV4CLParams {
  ICLPoolManager clPoolManager;
  PoolId poolId;
  RemoveLiquidityParams removeLiqParams;
  OutputValidationParams outputParams;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>clPoolManager</code></td><td><code>ICLPoolManager</code></td><td>The cl pool manager contract</td></tr>
<tr><td><code>poolId</code></td><td><code>PoolId</code></td><td>The pool ID</td></tr>
<tr><td><code>removeLiqParams</code></td><td><code>RemoveLiquidityParams</code></td><td>The params used to remove liquidity</td></tr>
<tr><td><code>outputParams</code></td><td><code>OutputValidationParams</code></td><td>The params used to validate output after execution</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ksremoveliquidityuniswapv3hook"><a class="header" href="#ksremoveliquidityuniswapv3hook">KSRemoveLiquidityUniswapV3Hook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/remove-liq/KSRemoveLiquidityUniswapV3Hook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/remove-liq/KSRemoveLiquidityUniswapV3Hook.sol//src/hooks/base/BaseTickBasedRemoveLiquidityHook.sol/abstract.BaseTickBasedRemoveLiquidityHook.html">BaseTickBasedRemoveLiquidityHook</a></p>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _weth) BaseTickBasedRemoveLiquidityHook(_weth);
</code></pre>
<h3 id="_validatebeforeexecution-2"><a class="header" href="#_validatebeforeexecution-2">_validateBeforeExecution</a></h3>
<pre><code class="language-solidity">function _validateBeforeExecution(IntentData calldata intentData, ActionData calldata actionData)
  internal
  view
  override
  returns (bytes memory beforeExecutionData);
</code></pre>
<h3 id="_getpositionliquidity-1"><a class="header" href="#_getpositionliquidity-1">_getPositionLiquidity</a></h3>
<pre><code class="language-solidity">function _getPositionLiquidity(address nftAddress, uint256 nftId)
  internal
  view
  override
  returns (uint256 liquidity);
</code></pre>
<h3 id="_cachevalidationdata-1"><a class="header" href="#_cachevalidationdata-1">_cacheValidationData</a></h3>
<pre><code class="language-solidity">function _cacheValidationData(
  UniswapV3Params memory uniswapV3,
  RemoveLiquidityHookData calldata validationData,
  bytes calldata hookActionData
) internal view;
</code></pre>
<h3 id="_computepositionvalues-1"><a class="header" href="#_computepositionvalues-1">_computePositionValues</a></h3>
<pre><code class="language-solidity">function _computePositionValues(UniswapV3Params memory uniswapV3) internal view;
</code></pre>
<h3 id="_getfeegrowthinside-1"><a class="header" href="#_getfeegrowthinside-1">_getFeeGrowthInside</a></h3>
<pre><code class="language-solidity">function _getFeeGrowthInside(
  IUniswapV3Pool pool,
  int24 tickLower,
  int24 tickCurrent,
  int24 tickUpper
) internal view returns (uint256 feeGrowthInside0X128, uint256 feeGrowthInside1X128);
</code></pre>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="uniswapv3params"><a class="header" href="#uniswapv3params">UniswapV3Params</a></h3>
<p>Parameters used for remove liquidity validation of a uniswap v3 position</p>
<pre><code class="language-solidity">struct UniswapV3Params {
  address pool;
  RemoveLiquidityParams removeLiqParams;
  OutputValidationParams outputParams;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>pool</code></td><td><code>address</code></td><td>The pool address</td></tr>
<tr><td><code>removeLiqParams</code></td><td><code>RemoveLiquidityParams</code></td><td>The params used to remove liquidity</td></tr>
<tr><td><code>outputParams</code></td><td><code>OutputValidationParams</code></td><td>The params used to validate output after execution</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ksremoveliquidityuniswapv4hook"><a class="header" href="#ksremoveliquidityuniswapv4hook">KSRemoveLiquidityUniswapV4Hook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/remove-liq/KSRemoveLiquidityUniswapV4Hook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/remove-liq/KSRemoveLiquidityUniswapV4Hook.sol//src/hooks/base/BaseTickBasedRemoveLiquidityHook.sol/abstract.BaseTickBasedRemoveLiquidityHook.html">BaseTickBasedRemoveLiquidityHook</a></p>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _weth) BaseTickBasedRemoveLiquidityHook(_weth);
</code></pre>
<h3 id="_validatebeforeexecution-3"><a class="header" href="#_validatebeforeexecution-3">_validateBeforeExecution</a></h3>
<pre><code class="language-solidity">function _validateBeforeExecution(IntentData calldata intentData, ActionData calldata actionData)
  internal
  view
  override
  returns (bytes memory beforeExecutionData);
</code></pre>
<h3 id="_cachevalidationdata-2"><a class="header" href="#_cachevalidationdata-2">_cacheValidationData</a></h3>
<pre><code class="language-solidity">function _cacheValidationData(
  UniswapV4Params memory uniswapV4,
  RemoveLiquidityHookData calldata validationData,
  bytes calldata hookActionData
) internal view;
</code></pre>
<h3 id="_computepositionvalues-2"><a class="header" href="#_computepositionvalues-2">_computePositionValues</a></h3>
<pre><code class="language-solidity">function _computePositionValues(UniswapV4Params memory uniswapV4) internal view;
</code></pre>
<h2 id="structs-3"><a class="header" href="#structs-3">Structs</a></h2>
<h3 id="uniswapv4params"><a class="header" href="#uniswapv4params">UniswapV4Params</a></h3>
<p>Parameters used for remove liquidity validation of a uniswap v4 position</p>
<pre><code class="language-solidity">struct UniswapV4Params {
  IPoolManager poolManager;
  RemoveLiquidityParams removeLiqParams;
  OutputValidationParams outputParams;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolManager</code></td><td><code>IPoolManager</code></td><td>The pool manager contract</td></tr>
<tr><td><code>removeLiqParams</code></td><td><code>RemoveLiquidityParams</code></td><td>The params used to remove liquidity</td></tr>
<tr><td><code>outputParams</code></td><td><code>OutputValidationParams</code></td><td>The params used to validate output after execution</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-3"><a class="header" href="#contents-3">Contents</a></h1>
<ul>
<li><a href="src/hooks/swap/KSConditionalSwapHook.sol/contract.KSConditionalSwapHook.html">KSConditionalSwapHook</a></li>
<li><a href="src/hooks/swap/KSPriceBasedDCAHook.sol/contract.KSPriceBasedDCAHook.html">KSPriceBasedDCAHook</a></li>
<li><a href="src/hooks/swap/KSSwapHook.sol/contract.KSSwapHook.html">KSSwapHook</a></li>
<li><a href="src/hooks/swap/KSTimeBasedDCAHook.sol/contract.KSTimeBasedDCAHook.html">KSTimeBasedDCAHook</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ksconditionalswaphook"><a class="header" href="#ksconditionalswaphook">KSConditionalSwapHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/swap/KSConditionalSwapHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/swap/KSConditionalSwapHook.sol//src/hooks/base/BaseStatefulHook.sol/abstract.BaseStatefulHook.html">BaseStatefulHook</a>, <a href="src/hooks/swap/KSConditionalSwapHook.sol//src/hooks/base/BaseConditionalHook.sol/abstract.BaseConditionalHook.html">BaseConditionalHook</a></p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="denominator"><a class="header" href="#denominator">DENOMINATOR</a></h3>
<pre><code class="language-solidity">uint256 public constant DENOMINATOR = 1e18;
</code></pre>
<h3 id="swaprecord"><a class="header" href="#swaprecord">swapRecord</a></h3>
<p>Tracks swap execution counts for each condition to enforce swap limits</p>
<p><em>Maps intentHash -&gt; intentIndex -&gt; packedIndexes -&gt; packedCounts
Each uint256 stores up to 32 uint8 swap counts (8 bits each), indexed by swapIndexes / 32
Individual counts are extracted using bit shifts based on swapIndexes % 32</em></p>
<pre><code class="language-solidity">mapping(
  bytes32 intentHash
    =&gt; mapping(uint256 intentIndex =&gt; mapping(uint256 swapIndexes =&gt; uint256 swapCount))
) public swapRecord;
</code></pre>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<pre><code class="language-solidity">constructor(address[] memory initialRouters) BaseStatefulHook(initialRouters);
</code></pre>
<h3 id="checktokenlengths-2"><a class="header" href="#checktokenlengths-2">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) override;
</code></pre>
<h3 id="beforeexecution-1"><a class="header" href="#beforeexecution-1">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(
  bytes32 intentHash,
  IntentData calldata intentData,
  ActionData calldata actionData
)
  external
  override
  onlyWhitelistedRouter
  checkTokenLengths(actionData)
  returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentHash</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution-1"><a class="header" href="#afterexecution-1">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata
)
  external
  override
  onlyWhitelistedRouter
  returns (
    address[] memory tokens,
    uint256[] memory fees,
    uint256[] memory amounts,
    address recipient
  );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>address[]</code></td><td>the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the fees to be taken</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>the address of the recipient</td></tr>
</tbody></table>
</div>
<h3 id="getswapexecutioncount"><a class="header" href="#getswapexecutioncount">getSwapExecutionCount</a></h3>
<p>Gets the number of times a specific swap condition has been executed</p>
<pre><code class="language-solidity">function getSwapExecutionCount(bytes32 intentHash, uint256 intentIndex, uint256 conditionIndex)
  public
  view
  returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentHash</code></td><td><code>bytes32</code></td><td>The hash of the intent</td></tr>
<tr><td><code>intentIndex</code></td><td><code>uint256</code></td><td>The index of the specific intent</td></tr>
<tr><td><code>conditionIndex</code></td><td><code>uint256</code></td><td>The index of the swap condition to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The number of times this condition has been executed</td></tr>
</tbody></table>
</div>
<h3 id="_validateswapcondition"><a class="header" href="#_validateswapcondition">_validateSwapCondition</a></h3>
<pre><code class="language-solidity">function _validateSwapCondition(
  SwapCondition[] calldata swapCondition,
  mapping(uint256 swapIndexes =&gt; uint256 swapCounts) storage record,
  uint256 price,
  uint256 amountIn,
  uint256 srcFeePercent,
  uint256 dstFeePercent
) internal;
</code></pre>
<h3 id="_increasebyone"><a class="header" href="#_increasebyone">_increaseByOne</a></h3>
<p>Increments swap count for a specific condition index</p>
<p><em>Uses bit manipulation to efficiently store counts in packed format</em></p>
<pre><code class="language-solidity">function _increaseByOne(
  mapping(uint256 packedIndexes =&gt; uint256 packedValues) storage record,
  uint8 index,
  uint8 limit
) internal returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>record</code></td><td><code>mapping(uint256 packedIndexes =&gt; uint256 packedValues)</code></td><td>Storage mapping containing packed swap counts</td></tr>
<tr><td><code>index</code></td><td><code>uint8</code></td><td>The condition index to increment</td></tr>
<tr><td><code>limit</code></td><td><code>uint8</code></td><td>Maximum allowed swaps for this condition</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>success True if increment was successful (within limit), false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="_getrecipientbalance"><a class="header" href="#_getrecipientbalance">_getRecipientBalance</a></h3>
<pre><code class="language-solidity">function _getRecipientBalance(address tokenOut, address recipient, uint256 feePercent)
  internal
  view
  returns (uint256);
</code></pre>
<h3 id="_decodeswapcondition"><a class="header" href="#_decodeswapcondition">_decodeSwapCondition</a></h3>
<pre><code class="language-solidity">function _decodeSwapCondition(bytes calldata data)
  internal
  pure
  returns (SwapCondition calldata swapCondition);
</code></pre>
<h3 id="_decodehookdata-1"><a class="header" href="#_decodehookdata-1">_decodeHookData</a></h3>
<pre><code class="language-solidity">function _decodeHookData(bytes calldata data)
  internal
  pure
  returns (SwapHookData calldata hookData);
</code></pre>
<h3 id="_decodeandvalidatehookactiondata"><a class="header" href="#_decodeandvalidatehookactiondata">_decodeAndValidateHookActionData</a></h3>
<pre><code class="language-solidity">function _decodeAndValidateHookActionData(bytes calldata data, SwapHookData calldata swapHookData)
  internal
  view
  returns (uint256 index, uint256 intentSrcFee, uint256 intentDstFee);
</code></pre>
<h3 id="_decodebeforeexecutiondata-1"><a class="header" href="#_decodebeforeexecutiondata-1">_decodeBeforeExecutionData</a></h3>
<pre><code class="language-solidity">function _decodeBeforeExecutionData(bytes calldata data)
  internal
  pure
  returns (SwapValidationData calldata validationData);
</code></pre>
<h2 id="errors-4"><a class="header" href="#errors-4">Errors</a></h2>
<h3 id="invalidtokenin"><a class="header" href="#invalidtokenin">InvalidTokenIn</a></h3>
<pre><code class="language-solidity">error InvalidTokenIn(address tokenIn, address actualTokenIn);
</code></pre>
<h3 id="amountinmismatch"><a class="header" href="#amountinmismatch">AmountInMismatch</a></h3>
<pre><code class="language-solidity">error AmountInMismatch(uint256 amountIn, uint256 actualAmountIn);
</code></pre>
<h3 id="invalidswap"><a class="header" href="#invalidswap">InvalidSwap</a></h3>
<pre><code class="language-solidity">error InvalidSwap();
</code></pre>
<h2 id="structs-4"><a class="header" href="#structs-4">Structs</a></h2>
<h3 id="swaphookdata"><a class="header" href="#swaphookdata">SwapHookData</a></h3>
<p>Data structure for conditional swap</p>
<pre><code class="language-solidity">struct SwapHookData {
  SwapCondition[][] swapConditions;
  address[] srcTokens;
  address[] dstTokens;
  address recipient;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>swapConditions</code></td><td><code>SwapCondition[][]</code></td><td>The swap conditions, a swap will be executed if one of the conditions is met</td></tr>
<tr><td><code>srcTokens</code></td><td><code>address[]</code></td><td>The source tokens</td></tr>
<tr><td><code>dstTokens</code></td><td><code>address[]</code></td><td>The destination tokens</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient of the destination token</td></tr>
</tbody></table>
</div>
<h3 id="swapcondition"><a class="header" href="#swapcondition">SwapCondition</a></h3>
<p>The limit of swap executions that can be performed for a swap info</p>
<pre><code class="language-solidity">struct SwapCondition {
  uint8 swapLimit;
  uint256 timeLimits;
  uint256 amountInLimits;
  uint256 maxFees;
  uint256 priceLimits;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>swapLimit</code></td><td><code>uint8</code></td><td>The maximum number of times the swap can be executed</td></tr>
<tr><td><code>timeLimits</code></td><td><code>uint256</code></td><td>The limits of the swap time (minTime 128bits, maxTime 128bits)</td></tr>
<tr><td><code>amountInLimits</code></td><td><code>uint256</code></td><td>The limits of the swap amount (minAmountIn 128bits, maxAmountIn 128bits)</td></tr>
<tr><td><code>maxFees</code></td><td><code>uint256</code></td><td>The max fees (srcFee 128bits, dstFee 128bits)</td></tr>
<tr><td><code>priceLimits</code></td><td><code>uint256</code></td><td>The limits of price (tokenOut/tokenIn denominated by 1e18) (minPrice 128bits, maxPrice 128bits)</td></tr>
</tbody></table>
</div>
<h3 id="swapvalidationdata"><a class="header" href="#swapvalidationdata">SwapValidationData</a></h3>
<pre><code class="language-solidity">struct SwapValidationData {
  SwapCondition[] swapConditions;
  bytes32 intentHash;
  uint256 intentIndex;
  address tokenIn;
  address tokenOut;
  uint256 amountIn;
  uint256 recipientBalanceBefore;
  uint256 swapperBalanceBefore;
  uint256 srcFeePercent;
  uint256 dstFeePercent;
  address recipient;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kspricebaseddcahook"><a class="header" href="#kspricebaseddcahook">KSPriceBasedDCAHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/swap/KSPriceBasedDCAHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/swap/KSPriceBasedDCAHook.sol//src/hooks/base/BaseStatefulHook.sol/abstract.BaseStatefulHook.html">BaseStatefulHook</a></p>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="latestswap"><a class="header" href="#latestswap">latestSwap</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint256) public latestSwap;
</code></pre>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="constructor-6"><a class="header" href="#constructor-6">constructor</a></h3>
<pre><code class="language-solidity">constructor(address[] memory initialRouters) BaseStatefulHook(initialRouters);
</code></pre>
<h3 id="checktokenlengths-3"><a class="header" href="#checktokenlengths-3">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) override;
</code></pre>
<h3 id="beforeexecution-2"><a class="header" href="#beforeexecution-2">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(
  bytes32 intentHash,
  IntentData calldata intentData,
  ActionData calldata actionData
)
  external
  override
  onlyWhitelistedRouter
  checkTokenLengths(actionData)
  returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentHash</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution-2"><a class="header" href="#afterexecution-2">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata
)
  external
  view
  override
  onlyWhitelistedRouter
  returns (address[] memory, uint256[] memory, uint256[] memory, address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>tokens the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>fees the fees to be taken</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>recipient the address of the recipient</td></tr>
</tbody></table>
</div>
<h2 id="errors-5"><a class="header" href="#errors-5">Errors</a></h2>
<h3 id="exceednumswaps"><a class="header" href="#exceednumswaps">ExceedNumSwaps</a></h3>
<pre><code class="language-solidity">error ExceedNumSwaps(uint256 numSwaps, uint256 swapNo);
</code></pre>
<h3 id="invalidamountin"><a class="header" href="#invalidamountin">InvalidAmountIn</a></h3>
<pre><code class="language-solidity">error InvalidAmountIn(uint256 amountIn, uint256 actualAmountIn);
</code></pre>
<h3 id="invalidamountout"><a class="header" href="#invalidamountout">InvalidAmountOut</a></h3>
<pre><code class="language-solidity">error InvalidAmountOut(uint256 minAmountOut, uint256 maxAmountOut, uint256 actualAmountOut);
</code></pre>
<h3 id="swapalreadyexecuted"><a class="header" href="#swapalreadyexecuted">SwapAlreadyExecuted</a></h3>
<pre><code class="language-solidity">error SwapAlreadyExecuted();
</code></pre>
<h2 id="structs-5"><a class="header" href="#structs-5">Structs</a></h2>
<h3 id="dcahookdata"><a class="header" href="#dcahookdata">DCAHookData</a></h3>
<p>Data structure for dca hook</p>
<pre><code class="language-solidity">struct DCAHookData {
  address srcToken;
  address dstToken;
  uint256[] amountIns;
  uint256[] amountOutLimits;
  address recipient;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>srcToken</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>dstToken</code></td><td><code>address</code></td><td>The destination token</td></tr>
<tr><td><code>amountIns</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>amountOutLimits</code></td><td><code>uint256[]</code></td><td></td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ksswaphook"><a class="header" href="#ksswaphook">KSSwapHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/swap/KSSwapHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/swap/KSSwapHook.sol//src/hooks/base/BaseHook.sol/abstract.BaseHook.html">BaseHook</a></p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="rate_denominator"><a class="header" href="#rate_denominator">RATE_DENOMINATOR</a></h3>
<pre><code class="language-solidity">uint256 public constant RATE_DENOMINATOR = 1e18;
</code></pre>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="checktokenlengths-4"><a class="header" href="#checktokenlengths-4">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) override;
</code></pre>
<h3 id="beforeexecution-3"><a class="header" href="#beforeexecution-3">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(bytes32, IntentData calldata intentData, ActionData calldata actionData)
  external
  view
  override
  checkTokenLengths(actionData)
  returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution-3"><a class="header" href="#afterexecution-3">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata
) external view override returns (address[] memory, uint256[] memory, uint256[] memory, address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>tokens the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>fees the fees to be taken</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>recipient the address of the recipient</td></tr>
</tbody></table>
</div>
<h2 id="errors-6"><a class="header" href="#errors-6">Errors</a></h2>
<h3 id="invalidswappair"><a class="header" href="#invalidswappair">InvalidSwapPair</a></h3>
<pre><code class="language-solidity">error InvalidSwapPair();
</code></pre>
<h3 id="belowminrate"><a class="header" href="#belowminrate">BelowMinRate</a></h3>
<pre><code class="language-solidity">error BelowMinRate(uint256 inputAmount, uint256 outputAmount, uint256 minRate);
</code></pre>
<h2 id="structs-6"><a class="header" href="#structs-6">Structs</a></h2>
<h3 id="swaphookdata-1"><a class="header" href="#swaphookdata-1">SwapHookData</a></h3>
<p>Data structure for swap validation</p>
<pre><code class="language-solidity">struct SwapHookData {
  address[] srcTokens;
  address[] dstTokens;
  uint256[] minRates;
  address recipient;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>srcTokens</code></td><td><code>address[]</code></td><td>The source tokens</td></tr>
<tr><td><code>dstTokens</code></td><td><code>address[]</code></td><td>The destination tokens</td></tr>
<tr><td><code>minRates</code></td><td><code>uint256[]</code></td><td>The minimum rates, denominated in 1e18</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="kstimebaseddcahook"><a class="header" href="#kstimebaseddcahook">KSTimeBasedDCAHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/swap/KSTimeBasedDCAHook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/swap/KSTimeBasedDCAHook.sol//src/hooks/base/BaseStatefulHook.sol/abstract.BaseStatefulHook.html">BaseStatefulHook</a></p>
<h2 id="state-variables-6"><a class="header" href="#state-variables-6">State Variables</a></h2>
<h3 id="latestswap-1"><a class="header" href="#latestswap-1">latestSwap</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint256) public latestSwap;
</code></pre>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="constructor-7"><a class="header" href="#constructor-7">constructor</a></h3>
<pre><code class="language-solidity">constructor(address[] memory initialRouters) BaseStatefulHook(initialRouters);
</code></pre>
<h3 id="checktokenlengths-5"><a class="header" href="#checktokenlengths-5">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) override;
</code></pre>
<h3 id="beforeexecution-4"><a class="header" href="#beforeexecution-4">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(
  bytes32 intentHash,
  IntentData calldata intentData,
  ActionData calldata actionData
)
  external
  override
  onlyWhitelistedRouter
  checkTokenLengths(actionData)
  returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentHash</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution-4"><a class="header" href="#afterexecution-4">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata
)
  external
  view
  override
  onlyWhitelistedRouter
  returns (address[] memory, uint256[] memory, uint256[] memory, address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>tokens the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>fees the fees to be taken</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>recipient the address of the recipient</td></tr>
</tbody></table>
</div>
<h2 id="errors-7"><a class="header" href="#errors-7">Errors</a></h2>
<h3 id="exceednumswaps-1"><a class="header" href="#exceednumswaps-1">ExceedNumSwaps</a></h3>
<pre><code class="language-solidity">error ExceedNumSwaps(uint256 numSwaps, uint256 swapNo);
</code></pre>
<h3 id="invalidexecutiontime"><a class="header" href="#invalidexecutiontime">InvalidExecutionTime</a></h3>
<pre><code class="language-solidity">error InvalidExecutionTime(uint256 startTime, uint256 endTime, uint256 currentTime);
</code></pre>
<h3 id="invalidtokenin-1"><a class="header" href="#invalidtokenin-1">InvalidTokenIn</a></h3>
<pre><code class="language-solidity">error InvalidTokenIn(address tokenIn, address actualTokenIn);
</code></pre>
<h3 id="invalidamountin-1"><a class="header" href="#invalidamountin-1">InvalidAmountIn</a></h3>
<pre><code class="language-solidity">error InvalidAmountIn(uint256 amountIn, uint256 actualAmountIn);
</code></pre>
<h3 id="invalidamountout-1"><a class="header" href="#invalidamountout-1">InvalidAmountOut</a></h3>
<pre><code class="language-solidity">error InvalidAmountOut(uint256 minAmountOut, uint256 maxAmountOut, uint256 actualAmountOut);
</code></pre>
<h3 id="swapalreadyexecuted-1"><a class="header" href="#swapalreadyexecuted-1">SwapAlreadyExecuted</a></h3>
<pre><code class="language-solidity">error SwapAlreadyExecuted();
</code></pre>
<h2 id="structs-7"><a class="header" href="#structs-7">Structs</a></h2>
<h3 id="dcahookdata-1"><a class="header" href="#dcahookdata-1">DCAHookData</a></h3>
<p>Data structure for dca validation</p>
<pre><code class="language-solidity">struct DCAHookData {
  address dstToken;
  uint256 amountIn;
  uint256 amountOutLimits;
  uint256 executionParams;
  address recipient;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dstToken</code></td><td><code>address</code></td><td>The destination token</td></tr>
<tr><td><code>amountIn</code></td><td><code>uint256</code></td><td>The amount of source token to be swapped, should be the same for all swaps</td></tr>
<tr><td><code>amountOutLimits</code></td><td><code>uint256</code></td><td>The minimum and maximum amount of destination token to be received, should be the same for all swaps (minAmountOut 128bits, maxAmountOut 128bits)</td></tr>
<tr><td><code>executionParams</code></td><td><code>uint256</code></td><td>The parameters for swaps validation (numSwaps 32bits, duration 32bits, startPeriod 32bits, firstTimestamp 32bits)</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient of the destination token</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-4"><a class="header" href="#contents-4">Contents</a></h1>
<ul>
<li><a href="src/hooks/zap-out/KSZapOutUniswapV2Hook.sol/contract.KSZapOutUniswapV2Hook.html">KSZapOutUniswapV2Hook</a></li>
<li><a href="src/hooks/zap-out/KSZapOutUniswapV3Hook.sol/contract.KSZapOutUniswapV3Hook.html">KSZapOutUniswapV3Hook</a></li>
<li><a href="src/hooks/zap-out/KSZapOutUniswapV4Hook.sol/contract.KSZapOutUniswapV4Hook.html">KSZapOutUniswapV4Hook</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kszapoutuniswapv2hook"><a class="header" href="#kszapoutuniswapv2hook">KSZapOutUniswapV2Hook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/zap-out/KSZapOutUniswapV2Hook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/zap-out/KSZapOutUniswapV2Hook.sol//src/hooks/base/BaseHook.sol/abstract.BaseHook.html">BaseHook</a></p>
<h2 id="state-variables-7"><a class="header" href="#state-variables-7">State Variables</a></h2>
<h3 id="rate_denominator-1"><a class="header" href="#rate_denominator-1">RATE_DENOMINATOR</a></h3>
<pre><code class="language-solidity">uint256 public constant RATE_DENOMINATOR = 1e18;
</code></pre>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="checktokenlengths-6"><a class="header" href="#checktokenlengths-6">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) override;
</code></pre>
<h3 id="beforeexecution-5"><a class="header" href="#beforeexecution-5">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(bytes32, IntentData calldata intentData, ActionData calldata actionData)
  external
  override
  checkTokenLengths(actionData)
  returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution-5"><a class="header" href="#afterexecution-5">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata
) external view override returns (address[] memory, uint256[] memory, uint256[] memory, address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>tokens the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>fees the fees to be taken</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>recipient the address of the recipient</td></tr>
</tbody></table>
</div>
<h2 id="errors-8"><a class="header" href="#errors-8">Errors</a></h2>
<h3 id="invalidswappair-1"><a class="header" href="#invalidswappair-1">InvalidSwapPair</a></h3>
<pre><code class="language-solidity">error InvalidSwapPair();
</code></pre>
<h3 id="belowminrate-1"><a class="header" href="#belowminrate-1">BelowMinRate</a></h3>
<pre><code class="language-solidity">error BelowMinRate(uint256 inputAmount, uint256 outputAmount, uint256 minRate);
</code></pre>
<h3 id="outsidepricerange"><a class="header" href="#outsidepricerange">OutsidePriceRange</a></h3>
<pre><code class="language-solidity">error OutsidePriceRange(uint256 priceLower, uint256 priceUpper, uint256 priceCurrent);
</code></pre>
<h2 id="structs-8"><a class="header" href="#structs-8">Structs</a></h2>
<h3 id="zapoutuniswapv2hookdata"><a class="header" href="#zapoutuniswapv2hookdata">ZapOutUniswapV2HookData</a></h3>
<p>Data structure for swap validation</p>
<pre><code class="language-solidity">struct ZapOutUniswapV2HookData {
  address[] srcTokens;
  address[] dstTokens;
  uint256[] priceLowers;
  uint256[] priceUppers;
  uint256[] minRates;
  address recipient;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>srcTokens</code></td><td><code>address[]</code></td><td>The source tokens</td></tr>
<tr><td><code>dstTokens</code></td><td><code>address[]</code></td><td>The destination tokens</td></tr>
<tr><td><code>priceLowers</code></td><td><code>uint256[]</code></td><td>The lower price bounds, denominated in 1e18</td></tr>
<tr><td><code>priceUppers</code></td><td><code>uint256[]</code></td><td>The upper price bounds, denominated in 1e18</td></tr>
<tr><td><code>minRates</code></td><td><code>uint256[]</code></td><td>The minimum rates, denominated in 1e18</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="kszapoutuniswapv3hook"><a class="header" href="#kszapoutuniswapv3hook">KSZapOutUniswapV3Hook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/zap-out/KSZapOutUniswapV3Hook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/zap-out/KSZapOutUniswapV3Hook.sol//src/hooks/base/BaseHook.sol/abstract.BaseHook.html">BaseHook</a></p>
<h2 id="state-variables-8"><a class="header" href="#state-variables-8">State Variables</a></h2>
<h3 id="rate_denominator-2"><a class="header" href="#rate_denominator-2">RATE_DENOMINATOR</a></h3>
<pre><code class="language-solidity">uint256 public constant RATE_DENOMINATOR = 1e18;
</code></pre>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="checktokenlengths-7"><a class="header" href="#checktokenlengths-7">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) override;
</code></pre>
<h3 id="beforeexecution-6"><a class="header" href="#beforeexecution-6">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(bytes32, IntentData calldata intentData, ActionData calldata actionData)
  external
  view
  override
  checkTokenLengths(actionData)
  returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution-6"><a class="header" href="#afterexecution-6">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata
) external view override returns (address[] memory, uint256[] memory, uint256[] memory, address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>tokens the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>fees the fees to be taken</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>recipient the address of the recipient</td></tr>
</tbody></table>
</div>
<h3 id="_getpositionliquidity-2"><a class="header" href="#_getpositionliquidity-2">_getPositionLiquidity</a></h3>
<pre><code class="language-solidity">function _getPositionLiquidity(address nftAddress, uint256 nftId, uint256 liquidityOffset)
  internal
  view
  returns (uint256 liquidity);
</code></pre>
<h3 id="_getsqrtpricex96"><a class="header" href="#_getsqrtpricex96">_getSqrtPriceX96</a></h3>
<pre><code class="language-solidity">function _getSqrtPriceX96(address pool, uint256 priceOffset)
  internal
  view
  returns (uint160 sqrtPriceX96);
</code></pre>
<h2 id="errors-9"><a class="header" href="#errors-9">Errors</a></h2>
<h3 id="invalidzapoutposition"><a class="header" href="#invalidzapoutposition">InvalidZapOutPosition</a></h3>
<pre><code class="language-solidity">error InvalidZapOutPosition();
</code></pre>
<h3 id="outsidepricerange-1"><a class="header" href="#outsidepricerange-1">OutsidePriceRange</a></h3>
<pre><code class="language-solidity">error OutsidePriceRange(uint160 sqrtPLower, uint160 sqrtPUpper, uint160 sqrtPriceX96);
</code></pre>
<h3 id="invalidowner-1"><a class="header" href="#invalidowner-1">InvalidOwner</a></h3>
<pre><code class="language-solidity">error InvalidOwner();
</code></pre>
<h3 id="getpositionliquidityfailed"><a class="header" href="#getpositionliquidityfailed">GetPositionLiquidityFailed</a></h3>
<pre><code class="language-solidity">error GetPositionLiquidityFailed();
</code></pre>
<h3 id="getsqrtpricex96failed"><a class="header" href="#getsqrtpricex96failed">GetSqrtPriceX96Failed</a></h3>
<pre><code class="language-solidity">error GetSqrtPriceX96Failed();
</code></pre>
<h3 id="belowminrate-2"><a class="header" href="#belowminrate-2">BelowMinRate</a></h3>
<pre><code class="language-solidity">error BelowMinRate(uint256 liquidity, uint256 minRate, uint256 outputAmount);
</code></pre>
<h2 id="structs-9"><a class="header" href="#structs-9">Structs</a></h2>
<h3 id="zapoutuniswapv3hookdata"><a class="header" href="#zapoutuniswapv3hookdata">ZapOutUniswapV3HookData</a></h3>
<pre><code class="language-solidity">struct ZapOutUniswapV3HookData {
  address[] nftAddresses;
  uint256[] nftIds;
  address[] pools;
  address[] outputTokens;
  uint256[] offsets;
  uint160[] sqrtPLowers;
  uint160[] sqrtPUppers;
  uint256[] minRates;
  address recipient;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kszapoutuniswapv4hook"><a class="header" href="#kszapoutuniswapv4hook">KSZapOutUniswapV4Hook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/hooks/zap-out/KSZapOutUniswapV4Hook.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/hooks/zap-out/KSZapOutUniswapV4Hook.sol//src/hooks/base/BaseHook.sol/abstract.BaseHook.html">BaseHook</a></p>
<h2 id="state-variables-9"><a class="header" href="#state-variables-9">State Variables</a></h2>
<h3 id="rate_denominator-3"><a class="header" href="#rate_denominator-3">RATE_DENOMINATOR</a></h3>
<pre><code class="language-solidity">uint256 public constant RATE_DENOMINATOR = 1e18;
</code></pre>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="checktokenlengths-8"><a class="header" href="#checktokenlengths-8">checkTokenLengths</a></h3>
<pre><code class="language-solidity">modifier checkTokenLengths(ActionData calldata actionData) override;
</code></pre>
<h3 id="beforeexecution-7"><a class="header" href="#beforeexecution-7">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(bytes32, IntentData calldata intentData, ActionData calldata actionData)
  external
  view
  override
  checkTokenLengths(actionData)
  returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution-7"><a class="header" href="#afterexecution-7">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata
) external view override returns (address[] memory, uint256[] memory, uint256[] memory, address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>tokens the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>fees the fees to be taken</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>recipient the address of the recipient</td></tr>
</tbody></table>
</div>
<h3 id="_getpoolid"><a class="header" href="#_getpoolid">_getPoolId</a></h3>
<pre><code class="language-solidity">function _getPoolId(PoolKey memory poolKey) internal pure returns (bytes32 poolId);
</code></pre>
<h2 id="errors-10"><a class="header" href="#errors-10">Errors</a></h2>
<h3 id="invalidzapoutposition-1"><a class="header" href="#invalidzapoutposition-1">InvalidZapOutPosition</a></h3>
<pre><code class="language-solidity">error InvalidZapOutPosition();
</code></pre>
<h3 id="outsidepricerange-2"><a class="header" href="#outsidepricerange-2">OutsidePriceRange</a></h3>
<pre><code class="language-solidity">error OutsidePriceRange(uint160 sqrtPLower, uint160 sqrtPUpper, uint160 sqrtPriceX96);
</code></pre>
<h3 id="invalidowner-2"><a class="header" href="#invalidowner-2">InvalidOwner</a></h3>
<pre><code class="language-solidity">error InvalidOwner();
</code></pre>
<h3 id="getpositionliquidityfailed-1"><a class="header" href="#getpositionliquidityfailed-1">GetPositionLiquidityFailed</a></h3>
<pre><code class="language-solidity">error GetPositionLiquidityFailed();
</code></pre>
<h3 id="getsqrtpricex96failed-1"><a class="header" href="#getsqrtpricex96failed-1">GetSqrtPriceX96Failed</a></h3>
<pre><code class="language-solidity">error GetSqrtPriceX96Failed();
</code></pre>
<h3 id="belowminrate-3"><a class="header" href="#belowminrate-3">BelowMinRate</a></h3>
<pre><code class="language-solidity">error BelowMinRate(uint256 liquidity, uint256 minRate, uint256 outputAmount);
</code></pre>
<h2 id="structs-10"><a class="header" href="#structs-10">Structs</a></h2>
<h3 id="zapoutuniswapv4hookdata"><a class="header" href="#zapoutuniswapv4hookdata">ZapOutUniswapV4HookData</a></h3>
<pre><code class="language-solidity">struct ZapOutUniswapV4HookData {
  address[] nftAddresses;
  uint256[] nftIds;
  address[] pools;
  address[] outputTokens;
  uint160[] sqrtPLowers;
  uint160[] sqrtPUppers;
  uint256[] minRates;
  address recipient;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-5"><a class="header" href="#contents-5">Contents</a></h1>
<ul>
<li><a href="src/interfaces//src/interfaces/actions">actions</a></li>
<li><a href="src/interfaces//src/interfaces/hooks">hooks</a></li>
<li><a href="src/interfaces//src/interfaces/pancakev4">pancakev4</a></li>
<li><a href="src/interfaces//src/interfaces/uniswapv2">uniswapv2</a></li>
<li><a href="src/interfaces//src/interfaces/uniswapv3">uniswapv3</a></li>
<li><a href="src/interfaces//src/interfaces/uniswapv4">uniswapv4</a></li>
<li><a href="src/interfaces/IKSSmartIntentRouter.sol/interface.IKSSmartIntentRouter.html">IKSSmartIntentRouter</a></li>
<li><a href="src/interfaces/IWETH.sol/interface.IWETH.html">IWETH</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-6"><a class="header" href="#contents-6">Contents</a></h1>
<ul>
<li><a href="src/interfaces/actions/IKSSwapRouterV2.sol/interface.IKSSwapRouterV2.html">IKSSwapRouterV2</a></li>
<li><a href="src/interfaces/actions/IKSSwapRouterV3.sol/interface.IKSSwapRouterV3.html">IKSSwapRouterV3</a></li>
<li><a href="src/interfaces/actions/IKSZapRouter.sol/interface.IKSZapRouter.html">IKSZapRouter</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iksswaprouterv2"><a class="header" href="#iksswaprouterv2">IKSSwapRouterV2</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/actions/IKSSwapRouterV2.sol">Git Source</a></p>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="swapgeneric"><a class="header" href="#swapgeneric">swapGeneric</a></h3>
<pre><code class="language-solidity">function swapGeneric(SwapExecutionParams memory)
  external
  payable
  returns (uint256 returnAmount, uint256 gasUsed);
</code></pre>
<h3 id="swap"><a class="header" href="#swap">swap</a></h3>
<pre><code class="language-solidity">function swap(SwapExecutionParams memory)
  external
  payable
  returns (uint256 returnAmount, uint256 gasUsed);
</code></pre>
<h3 id="swapsimplemode"><a class="header" href="#swapsimplemode">swapSimpleMode</a></h3>
<pre><code class="language-solidity">function swapSimpleMode(
  address caller,
  SwapDescriptionV2 memory desc,
  bytes calldata executorData,
  bytes calldata clientData
) external returns (uint256 returnAmount, uint256 gasUsed);
</code></pre>
<h2 id="structs-11"><a class="header" href="#structs-11">Structs</a></h2>
<h3 id="swapdescriptionv2"><a class="header" href="#swapdescriptionv2">SwapDescriptionV2</a></h3>
<pre><code class="language-solidity">struct SwapDescriptionV2 {
  address srcToken;
  address dstToken;
  address[] srcReceivers;
  uint256[] srcAmounts;
  address[] feeReceivers;
  uint256[] feeAmounts;
  address dstReceiver;
  uint256 amount;
  uint256 minReturnAmount;
  uint256 flags;
  bytes permit;
}
</code></pre>
<h3 id="swapexecutionparams"><a class="header" href="#swapexecutionparams">SwapExecutionParams</a></h3>
<pre><code class="language-solidity">struct SwapExecutionParams {
  address callTarget;
  address approveTarget;
  bytes targetData;
  SwapDescriptionV2 desc;
  bytes clientData;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iksswaprouterv3"><a class="header" href="#iksswaprouterv3">IKSSwapRouterV3</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/actions/IKSSwapRouterV3.sol">Git Source</a></p>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="swap-1"><a class="header" href="#swap-1">swap</a></h3>
<p>Entry point for swapping</p>
<pre><code class="language-solidity">function swap(SwapParams calldata params) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>params</code></td><td><code>SwapParams</code></td><td>The parameters for the swap</td></tr>
</tbody></table>
</div>
<h3 id="msgsender"><a class="header" href="#msgsender">msgSender</a></h3>
<p>Returns the address of who called the swap function</p>
<pre><code class="language-solidity">function msgSender() external view returns (address);
</code></pre>
<h2 id="structs-12"><a class="header" href="#structs-12">Structs</a></h2>
<h3 id="inputtokendata"><a class="header" href="#inputtokendata">InputTokenData</a></h3>
<p>Contains the additional data for an input token</p>
<pre><code class="language-solidity">struct InputTokenData {
  bytes permitData;
  address[] feeRecipients;
  uint256[] fees;
  address[] targets;
  uint256[] amounts;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>permitData</code></td><td><code>bytes</code></td><td>The permit data</td></tr>
<tr><td><code>feeRecipients</code></td><td><code>address[]</code></td><td>The fee recipients</td></tr>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>The fees, either in bps or absolute value</td></tr>
<tr><td><code>targets</code></td><td><code>address[]</code></td><td>The targets to transfer the input token to</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>The amounts to transfer to the targets</td></tr>
</tbody></table>
</div>
<h3 id="outputtokendata"><a class="header" href="#outputtokendata">OutputTokenData</a></h3>
<p>Contains the additional data for an output token</p>
<pre><code class="language-solidity">struct OutputTokenData {
  uint256 minAmount;
  address[] feeRecipients;
  uint256[] fees;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minAmount</code></td><td><code>uint256</code></td><td>The minimum output amount</td></tr>
<tr><td><code>feeRecipients</code></td><td><code>address[]</code></td><td>The fee recipients</td></tr>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>The fees, either in bps or absolute value</td></tr>
</tbody></table>
</div>
<h3 id="swapparams"><a class="header" href="#swapparams">SwapParams</a></h3>
<p>Contains the parameters for a swap</p>
<pre><code class="language-solidity">struct SwapParams {
  bytes permit2Data;
  address[] inputTokens;
  uint256[] inputAmounts;
  InputTokenData[] inputData;
  address[] outputTokens;
  OutputTokenData[] outputData;
  address executor;
  bytes executorData;
  address recipient;
  bytes clientData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>permit2Data</code></td><td><code>bytes</code></td><td>The data to call permit2 with</td></tr>
<tr><td><code>inputTokens</code></td><td><code>address[]</code></td><td>The input tokens</td></tr>
<tr><td><code>inputAmounts</code></td><td><code>uint256[]</code></td><td>The input amounts</td></tr>
<tr><td><code>inputData</code></td><td><code>InputTokenData[]</code></td><td>The additional data for the input tokens</td></tr>
<tr><td><code>outputTokens</code></td><td><code>address[]</code></td><td>The output tokens</td></tr>
<tr><td><code>outputData</code></td><td><code>OutputTokenData[]</code></td><td>The additional data for the output tokens</td></tr>
<tr><td><code>executor</code></td><td><code>address</code></td><td>The executor to call</td></tr>
<tr><td><code>executorData</code></td><td><code>bytes</code></td><td>The data to pass to the executor</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The recipient of the output tokens</td></tr>
<tr><td><code>clientData</code></td><td><code>bytes</code></td><td>The client data</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ikszaprouter"><a class="header" href="#ikszaprouter">IKSZapRouter</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/actions/IKSZapRouter.sol">Git Source</a></p>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="zap"><a class="header" href="#zap">zap</a></h3>
<p>collect token, execute and validate zap</p>
<pre><code class="language-solidity">function zap(ZapDescription calldata _desc, ZapExecutionData calldata _exe)
  external
  payable
  returns (bytes memory zapResults);
</code></pre>
<h2 id="structs-13"><a class="header" href="#structs-13">Structs</a></h2>
<h3 id="zapdescription"><a class="header" href="#zapdescription">ZapDescription</a></h3>
<p><em>Contains general data for zapping and validation</em></p>
<pre><code class="language-solidity">struct ZapDescription {
  uint16 zapFlags;
  bytes srcInfo;
  bytes zapInfo;
  bytes extraData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>zapFlags</code></td><td><code>uint16</code></td><td>packed value of dexType (uint8)</td></tr>
<tr><td><code>srcInfo</code></td><td><code>bytes</code></td><td>src position info</td></tr>
<tr><td><code>zapInfo</code></td><td><code>bytes</code></td><td>extra info, depends on each dex type</td></tr>
<tr><td><code>extraData</code></td><td><code>bytes</code></td><td>extra data to be used for validation</td></tr>
</tbody></table>
</div>
<h3 id="zapexecutiondata"><a class="header" href="#zapexecutiondata">ZapExecutionData</a></h3>
<p><em>Contains execution data for zapping</em></p>
<pre><code class="language-solidity">struct ZapExecutionData {
  address validator;
  address executor;
  uint32 deadline;
  bytes executorData;
  bytes clientData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>validator</code></td><td><code>address</code></td><td>validator address, must be whitelisted one</td></tr>
<tr><td><code>executor</code></td><td><code>address</code></td><td>zap executor address, must be whitelisted one</td></tr>
<tr><td><code>deadline</code></td><td><code>uint32</code></td><td>make sure the request is not expired yet</td></tr>
<tr><td><code>executorData</code></td><td><code>bytes</code></td><td>data for zap execution</td></tr>
<tr><td><code>clientData</code></td><td><code>bytes</code></td><td>for events and tracking purposes</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-7"><a class="header" href="#contents-7">Contents</a></h1>
<ul>
<li><a href="src/interfaces/hooks/IKSConditionalHook.sol/interface.IKSConditionalHook.html">IKSConditionalHook</a></li>
<li><a href="src/interfaces/hooks/IKSSmartIntentHook.sol/interface.IKSSmartIntentHook.html">IKSSmartIntentHook</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iksconditionalhook"><a class="header" href="#iksconditionalhook">IKSConditionalHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/hooks/IKSConditionalHook.sol">Git Source</a></p>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="validateconditiontree-1"><a class="header" href="#validateconditiontree-1">validateConditionTree</a></h3>
<p>Validates a condition tree starting from the specified root node</p>
<p><em>Reverts with ConditionsNotMet() if the conditions are not met</em></p>
<pre><code class="language-solidity">function validateConditionTree(ConditionTree calldata conditionTree, uint256 rootIndex)
  external
  view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>conditionTree</code></td><td><code>ConditionTree</code></td><td>The hierarchical structure of conditions to evaluate</td></tr>
<tr><td><code>rootIndex</code></td><td><code>uint256</code></td><td>The index of the root node to start evaluation from</td></tr>
</tbody></table>
</div>
<h3 id="evaluatecondition-1"><a class="header" href="#evaluatecondition-1">evaluateCondition</a></h3>
<pre><code class="language-solidity">function evaluateCondition(Condition calldata condition, bytes calldata additionalData)
  external
  view
  returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>condition</code></td><td><code>Condition</code></td><td>the condition to be evaluated</td></tr>
<tr><td><code>additionalData</code></td><td><code>bytes</code></td><td>the additional data to be used for evaluation</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if the condition is met, false otherwise</td></tr>
</tbody></table>
</div>
<h2 id="errors-11"><a class="header" href="#errors-11">Errors</a></h2>
<h3 id="conditionsnotmet"><a class="header" href="#conditionsnotmet">ConditionsNotMet</a></h3>
<pre><code class="language-solidity">error ConditionsNotMet();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ikssmartintenthook"><a class="header" href="#ikssmartintenthook">IKSSmartIntentHook</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/hooks/IKSSmartIntentHook.sol">Git Source</a></p>
<h2 id="functions-18"><a class="header" href="#functions-18">Functions</a></h2>
<h3 id="beforeexecution-8"><a class="header" href="#beforeexecution-8">beforeExecution</a></h3>
<p>Before execution hook</p>
<pre><code class="language-solidity">function beforeExecution(
  bytes32 intentHash,
  IntentData calldata intentData,
  ActionData calldata actionData
) external returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentHash</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>the data of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the amount of fees to be taken</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data representing the state before execution</td></tr>
</tbody></table>
</div>
<h3 id="afterexecution-8"><a class="header" href="#afterexecution-8">afterExecution</a></h3>
<p>After execution hook</p>
<pre><code class="language-solidity">function afterExecution(
  bytes32 intentHash,
  IntentData calldata intentData,
  bytes calldata beforeExecutionData,
  bytes calldata actionResult
)
  external
  returns (
    address[] memory tokens,
    uint256[] memory fees,
    uint256[] memory amounts,
    address recipient
  );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentHash</code></td><td><code>bytes32</code></td><td></td></tr>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>the intent data</td></tr>
<tr><td><code>beforeExecutionData</code></td><td><code>bytes</code></td><td>the data returned from <code>beforeExecution</code></td></tr>
<tr><td><code>actionResult</code></td><td><code>bytes</code></td><td>the result of the action</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokens</code></td><td><code>address[]</code></td><td>the tokens to be taken fees from and to be returned to the recipient</td></tr>
<tr><td><code>fees</code></td><td><code>uint256[]</code></td><td>the fees to be taken</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>the amounts of the tokens to be returned to the recipient</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>the address of the recipient</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-8"><a class="header" href="#contents-8">Contents</a></h1>
<ul>
<li><a href="src/interfaces/pancakev4/ICLPoolManager.sol/interface.ICLPoolManager.html">ICLPoolManager</a></li>
<li><a href="src/interfaces/pancakev4/ICLPositionManager.sol/interface.ICLPositionManager.html">ICLPositionManager</a></li>
<li><a href="src/interfaces/pancakev4/Types.sol/type.PoolId.html">PoolId</a></li>
<li><a href="src/interfaces/pancakev4/Types.sol/type.BalanceDelta.html">BalanceDelta</a></li>
<li><a href="src/interfaces/pancakev4/Types.sol/type.CLPositionInfo.html">CLPositionInfo</a></li>
<li><a href="src/interfaces/pancakev4/Types.sol/struct.TickInfo.html">TickInfo</a></li>
<li><a href="src/interfaces/pancakev4/Types.sol/struct.PoolKey.html">PoolKey</a></li>
<li><a href="src/interfaces/pancakev4/Types.sol/library.Actions.html">Actions</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iclpoolmanager"><a class="header" href="#iclpoolmanager">ICLPoolManager</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/pancakev4/ICLPoolManager.sol">Git Source</a></p>
<h2 id="functions-19"><a class="header" href="#functions-19">Functions</a></h2>
<h3 id="updatedynamiclpfee"><a class="header" href="#updatedynamiclpfee">updateDynamicLPFee</a></h3>
<p>Updates lp fee for a dyanmic fee pool</p>
<p>*Some of the use case could be:</p>
<ol>
<li>when hook#beforeSwap() is called and hook call this function to update the lp fee</li>
<li>For BinPool only, when hook#beforeMint() is called and hook call this function to update the lp fee</li>
<li>other use case where the hook might want to on an ad-hoc basis increase/reduce lp fee*</li>
</ol>
<pre><code class="language-solidity">function updateDynamicLPFee(PoolKey memory key, uint24 newDynamicLPFee) external;
</code></pre>
<h3 id="poolidtopoolkey"><a class="header" href="#poolidtopoolkey">poolIdToPoolKey</a></h3>
<p>Return PoolKey for a given PoolId</p>
<pre><code class="language-solidity">function poolIdToPoolKey(PoolId id) external view returns (PoolKey memory key);
</code></pre>
<h3 id="getslot0"><a class="header" href="#getslot0">getSlot0</a></h3>
<p>Get the current value in slot0 of the given pool</p>
<pre><code class="language-solidity">function getSlot0(PoolId id)
  external
  view
  returns (uint160 sqrtPriceX96, int24 tick, uint24 protocolFee, uint24 lpFee);
</code></pre>
<h3 id="getliquidity"><a class="header" href="#getliquidity">getLiquidity</a></h3>
<p>Get the current value of liquidity of the given pool</p>
<pre><code class="language-solidity">function getLiquidity(PoolId id) external view returns (uint128 liquidity);
</code></pre>
<h3 id="getliquidity-1"><a class="header" href="#getliquidity-1">getLiquidity</a></h3>
<p>Get the current value of liquidity for the specified pool and position</p>
<pre><code class="language-solidity">function getLiquidity(PoolId id, address owner, int24 tickLower, int24 tickUpper, bytes32 salt)
  external
  view
  returns (uint128 liquidity);
</code></pre>
<h3 id="getpooltickinfo"><a class="header" href="#getpooltickinfo">getPoolTickInfo</a></h3>
<p>Get the tick info about a specific tick in the pool</p>
<pre><code class="language-solidity">function getPoolTickInfo(PoolId id, int24 tick) external view returns (TickInfo memory tickInfo);
</code></pre>
<h3 id="getpoolbitmapinfo"><a class="header" href="#getpoolbitmapinfo">getPoolBitmapInfo</a></h3>
<p>Get the tick bitmap info about a specific range (a word range) in the pool</p>
<pre><code class="language-solidity">function getPoolBitmapInfo(PoolId id, int16 word) external view returns (uint256 tickBitmap);
</code></pre>
<h3 id="getfeegrowthglobals"><a class="header" href="#getfeegrowthglobals">getFeeGrowthGlobals</a></h3>
<p>Get the fee growth global for the given pool</p>
<pre><code class="language-solidity">function getFeeGrowthGlobals(PoolId id)
  external
  view
  returns (uint256 feeGrowthGlobal0x128, uint256 feeGrowthGlobal1x128);
</code></pre>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<p>Initialize the state for a given pool ID</p>
<pre><code class="language-solidity">function initialize(PoolKey memory key, uint160 sqrtPriceX96) external returns (int24 tick);
</code></pre>
<h3 id="modifyliquidity"><a class="header" href="#modifyliquidity">modifyLiquidity</a></h3>
<p>Modify the position for the given pool</p>
<pre><code class="language-solidity">function modifyLiquidity(
  PoolKey memory key,
  ModifyLiquidityParams memory params,
  bytes calldata hookData
) external returns (BalanceDelta delta, BalanceDelta feeDelta);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>delta</code></td><td><code>BalanceDelta</code></td><td>The total balance delta of the caller of modifyLiquidity.</td></tr>
<tr><td><code>feeDelta</code></td><td><code>BalanceDelta</code></td><td>The balance delta of the fees generated in the liquidity range.</td></tr>
</tbody></table>
</div>
<h3 id="swap-2"><a class="header" href="#swap-2">swap</a></h3>
<p>Swap against the given pool</p>
<p><em>Swapping on low liquidity pools may cause unexpected swap amounts when liquidity available is less than amountSpecified.
Additionally note that if interacting with hooks that have the BEFORE_SWAP_RETURNS_DELTA_FLAG or AFTER_SWAP_RETURNS_DELTA_FLAG
the hook may alter the swap input/output. Integrators should perform checks on the returned swapDelta.</em></p>
<pre><code class="language-solidity">function swap(PoolKey memory key, SwapParams memory params, bytes calldata hookData)
  external
  returns (BalanceDelta delta);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>key</code></td><td><code>PoolKey</code></td><td>The pool to swap in</td></tr>
<tr><td><code>params</code></td><td><code>SwapParams</code></td><td>The parameters for swapping</td></tr>
<tr><td><code>hookData</code></td><td><code>bytes</code></td><td>Any data to pass to the callback</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>delta</code></td><td><code>BalanceDelta</code></td><td>The balance delta of the address swapping</td></tr>
</tbody></table>
</div>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="dynamiclpfeeupdated"><a class="header" href="#dynamiclpfeeupdated">DynamicLPFeeUpdated</a></h3>
<p>Emitted when lp fee is updated</p>
<p><em>The event is emitted even if the updated fee value is the same as previous one</em></p>
<pre><code class="language-solidity">event DynamicLPFeeUpdated(PoolId indexed id, uint24 dynamicLPFee);
</code></pre>
<h3 id="modifyliquidity-1"><a class="header" href="#modifyliquidity-1">ModifyLiquidity</a></h3>
<p>Emitted when a liquidity position is modified</p>
<pre><code class="language-solidity">event ModifyLiquidity(
  PoolId indexed id,
  address indexed sender,
  int24 tickLower,
  int24 tickUpper,
  int256 liquidityDelta,
  bytes32 salt
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>PoolId</code></td><td>The abi encoded hash of the pool key struct for the pool that was modified</td></tr>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address that modified the pool</td></tr>
<tr><td><code>tickLower</code></td><td><code>int24</code></td><td>The lower tick of the position</td></tr>
<tr><td><code>tickUpper</code></td><td><code>int24</code></td><td>The upper tick of the position</td></tr>
<tr><td><code>liquidityDelta</code></td><td><code>int256</code></td><td>The amount of liquidity that was added or removed</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>The value used to create a unique liquidity position</td></tr>
</tbody></table>
</div>
<h3 id="swap-3"><a class="header" href="#swap-3">Swap</a></h3>
<p>Emitted for swaps between currency0 and currency1</p>
<pre><code class="language-solidity">event Swap(
  PoolId indexed id,
  address indexed sender,
  int128 amount0,
  int128 amount1,
  uint160 sqrtPriceX96,
  uint128 liquidity,
  int24 tick,
  uint24 fee,
  uint16 protocolFee
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>PoolId</code></td><td>The abi encoded hash of the pool key struct for the pool that was modified</td></tr>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address that initiated the swap call, and that received the callback</td></tr>
<tr><td><code>amount0</code></td><td><code>int128</code></td><td>The delta of the currency0 balance of the pool</td></tr>
<tr><td><code>amount1</code></td><td><code>int128</code></td><td>The delta of the currency1 balance of the pool</td></tr>
<tr><td><code>sqrtPriceX96</code></td><td><code>uint160</code></td><td>The sqrt(price) of the pool after the swap, as a Q64.96</td></tr>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>The liquidity of the pool after the swap</td></tr>
<tr><td><code>tick</code></td><td><code>int24</code></td><td>The log base 1.0001 of the price of the pool after the swap</td></tr>
<tr><td><code>fee</code></td><td><code>uint24</code></td><td>The fee collected upon every swap in the pool (including protocol fee and LP fee), denominated in hundredths of a bip</td></tr>
<tr><td><code>protocolFee</code></td><td><code>uint16</code></td><td>Single direction protocol fee from the swap, also denominated in hundredths of a bip</td></tr>
</tbody></table>
</div>
<h3 id="donate"><a class="header" href="#donate">Donate</a></h3>
<p>Emitted when donate happen</p>
<pre><code class="language-solidity">event Donate(
  PoolId indexed id, address indexed sender, uint256 amount0, uint256 amount1, int24 tick
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>PoolId</code></td><td>The abi encoded hash of the pool key struct for the pool that was modified</td></tr>
<tr><td><code>sender</code></td><td><code>address</code></td><td>The address that modified the pool</td></tr>
<tr><td><code>amount0</code></td><td><code>uint256</code></td><td>The delta of the currency0 balance of the pool</td></tr>
<tr><td><code>amount1</code></td><td><code>uint256</code></td><td>The delta of the currency1 balance of the pool</td></tr>
<tr><td><code>tick</code></td><td><code>int24</code></td><td>The donated tick</td></tr>
</tbody></table>
</div>
<h2 id="errors-12"><a class="header" href="#errors-12">Errors</a></h2>
<h3 id="poolnotinitialized"><a class="header" href="#poolnotinitialized">PoolNotInitialized</a></h3>
<p>Thrown when trying to interact with a non-initialized pool</p>
<pre><code class="language-solidity">error PoolNotInitialized();
</code></pre>
<h3 id="currenciesinitializedoutoforder"><a class="header" href="#currenciesinitializedoutoforder">CurrenciesInitializedOutOfOrder</a></h3>
<p>PoolKey must have currencies where address(currency0) &lt; address(currency1)</p>
<pre><code class="language-solidity">error CurrenciesInitializedOutOfOrder(address currency0, address currency1);
</code></pre>
<h3 id="unauthorizeddynamiclpfeeupdate"><a class="header" href="#unauthorizeddynamiclpfeeupdate">UnauthorizedDynamicLPFeeUpdate</a></h3>
<p>Thrown when a call to updateDynamicLPFee is made by an address that is not the hook,
or on a pool is not a dynamic fee pool.</p>
<pre><code class="language-solidity">error UnauthorizedDynamicLPFeeUpdate();
</code></pre>
<h3 id="poolmanagermismatch"><a class="header" href="#poolmanagermismatch">PoolManagerMismatch</a></h3>
<p>PoolManagerMismatch is thrown when pool manager specified in the pool key does not match current contract</p>
<pre><code class="language-solidity">error PoolManagerMismatch();
</code></pre>
<h3 id="tickspacingtoolarge"><a class="header" href="#tickspacingtoolarge">TickSpacingTooLarge</a></h3>
<p>Pools are limited to type(int16).max tickSpacing in #initialize, to prevent overflow</p>
<pre><code class="language-solidity">error TickSpacingTooLarge(int24 tickSpacing);
</code></pre>
<h3 id="tickspacingtoosmall"><a class="header" href="#tickspacingtoosmall">TickSpacingTooSmall</a></h3>
<p>Pools must have a positive non-zero tickSpacing passed to #initialize</p>
<pre><code class="language-solidity">error TickSpacingTooSmall(int24 tickSpacing);
</code></pre>
<h3 id="poolpaused"><a class="header" href="#poolpaused">PoolPaused</a></h3>
<p>Error thrown when add liquidity is called when paused()</p>
<pre><code class="language-solidity">error PoolPaused();
</code></pre>
<h3 id="swapamountcannotbezero"><a class="header" href="#swapamountcannotbezero">SwapAmountCannotBeZero</a></h3>
<p>Thrown when trying to swap amount of 0</p>
<pre><code class="language-solidity">error SwapAmountCannotBeZero();
</code></pre>
<h2 id="structs-14"><a class="header" href="#structs-14">Structs</a></h2>
<h3 id="modifyliquidityparams"><a class="header" href="#modifyliquidityparams">ModifyLiquidityParams</a></h3>
<pre><code class="language-solidity">struct ModifyLiquidityParams {
  int24 tickLower;
  int24 tickUpper;
  int256 liquidityDelta;
  bytes32 salt;
}
</code></pre>
<h3 id="swapparams-1"><a class="header" href="#swapparams-1">SwapParams</a></h3>
<pre><code class="language-solidity">struct SwapParams {
  bool zeroForOne;
  int256 amountSpecified;
  uint160 sqrtPriceLimitX96;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iclpositionmanager"><a class="header" href="#iclpositionmanager">ICLPositionManager</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/pancakev4/ICLPositionManager.sol">Git Source</a></p>
<h2 id="functions-20"><a class="header" href="#functions-20">Functions</a></h2>
<h3 id="modifyliquidities"><a class="header" href="#modifyliquidities">modifyLiquidities</a></h3>
<p>Unlocks Vault and batches actions for modifying liquidity</p>
<p><em>This is the standard entrypoint for the PositionManager</em></p>
<pre><code class="language-solidity">function modifyLiquidities(bytes calldata payload, uint256 deadline) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>payload</code></td><td><code>bytes</code></td><td>is an encoding of actions, and parameters for those actions</td></tr>
<tr><td><code>deadline</code></td><td><code>uint256</code></td><td>is the deadline for the batched actions to be executed</td></tr>
</tbody></table>
</div>
<h3 id="modifyliquiditieswithoutlock"><a class="header" href="#modifyliquiditieswithoutlock">modifyLiquiditiesWithoutLock</a></h3>
<p>Batches actions for modifying liquidity without getting a lock from vault</p>
<p><em>This must be called by a contract that has already locked the vault</em></p>
<pre><code class="language-solidity">function modifyLiquiditiesWithoutLock(bytes calldata actions, bytes[] calldata params)
  external
  payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>actions</code></td><td><code>bytes</code></td><td>the actions to perform</td></tr>
<tr><td><code>params</code></td><td><code>bytes[]</code></td><td>the parameters to provide for the actions</td></tr>
</tbody></table>
</div>
<h3 id="clpoolmanager"><a class="header" href="#clpoolmanager">clPoolManager</a></h3>
<p>Get the clPoolManager</p>
<pre><code class="language-solidity">function clPoolManager() external view returns (ICLPoolManager);
</code></pre>
<h3 id="initializepool"><a class="header" href="#initializepool">initializePool</a></h3>
<p>Initialize a v4 PCS cl pool</p>
<pre><code class="language-solidity">function initializePool(PoolKey calldata key, uint160 sqrtPriceX96)
  external
  payable
  returns (int24);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>key</code></td><td><code>PoolKey</code></td><td>the PoolKey of the pool to initialize</td></tr>
<tr><td><code>sqrtPriceX96</code></td><td><code>uint160</code></td><td>the initial sqrtPriceX96 of the pool</td></tr>
</tbody></table>
</div>
<h3 id="nexttokenid"><a class="header" href="#nexttokenid">nextTokenId</a></h3>
<p>Used to get the ID that will be used for the next minted liquidity position</p>
<pre><code class="language-solidity">function nextTokenId() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The next token ID</td></tr>
</tbody></table>
</div>
<h3 id="getpositionliquidity"><a class="header" href="#getpositionliquidity">getPositionLiquidity</a></h3>
<p><em>this value can be processed as an amount0 and amount1 by using the LiquidityAmounts library</em></p>
<pre><code class="language-solidity">function getPositionLiquidity(uint256 tokenId) external view returns (uint128 liquidity);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>the ERC721 tokenId</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>the position's liquidity, as a liquidityAmount</td></tr>
</tbody></table>
</div>
<h3 id="positions"><a class="header" href="#positions">positions</a></h3>
<p>Get the detailed information for a specified position</p>
<pre><code class="language-solidity">function positions(uint256 tokenId)
  external
  view
  returns (
    PoolKey memory poolKey,
    int24 tickLower,
    int24 tickUpper,
    uint128 liquidity,
    uint256 feeGrowthInside0LastX128,
    uint256 feeGrowthInside1LastX128,
    address _subscriber
  );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>the ERC721 tokenId</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>poolKey</code></td><td><code>PoolKey</code></td><td>the pool key of the position</td></tr>
<tr><td><code>tickLower</code></td><td><code>int24</code></td><td>the lower tick of the position</td></tr>
<tr><td><code>tickUpper</code></td><td><code>int24</code></td><td>the upper tick of the position</td></tr>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>the liquidity of the position</td></tr>
<tr><td><code>feeGrowthInside0LastX128</code></td><td><code>uint256</code></td><td>the fee growth count of token0 since last time updated</td></tr>
<tr><td><code>feeGrowthInside1LastX128</code></td><td><code>uint256</code></td><td>the fee growth count of token1 since last time updated</td></tr>
<tr><td><code>_subscriber</code></td><td><code>address</code></td><td>the address of the subscriber, if not set, it returns address(0)</td></tr>
</tbody></table>
</div>
<h3 id="getpoolandpositioninfo"><a class="header" href="#getpoolandpositioninfo">getPoolAndPositionInfo</a></h3>
<pre><code class="language-solidity">function getPoolAndPositionInfo(uint256 tokenId)
  external
  view
  returns (PoolKey memory, CLPositionInfo);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>the ERC721 tokenId</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>PoolKey</code></td><td>poolKey the pool key of the position</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>CLPositionInfo</code></td><td>CLPositionInfo a uint256 packed value holding information about the position including the range (tickLower, tickUpper)</td></tr>
</tbody></table>
</div>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<pre><code class="language-solidity">function approve(address to, uint256 tokenId) external;
</code></pre>
<h3 id="ownerof"><a class="header" href="#ownerof">ownerOf</a></h3>
<pre><code class="language-solidity">function ownerOf(uint256 _tokenId) external view returns (address);
</code></pre>
<h3 id="safetransferfrom"><a class="header" href="#safetransferfrom">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(address _from, address _to, uint256 _tokenId) external payable;
</code></pre>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address _from, address _to, uint256 _tokenId) external payable;
</code></pre>
<h3 id="poolkeys"><a class="header" href="#poolkeys">poolKeys</a></h3>
<pre><code class="language-solidity">function poolKeys(bytes25 poolId) external view returns (PoolKey memory);
</code></pre>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="mintposition"><a class="header" href="#mintposition">MintPosition</a></h3>
<p>Emitted when a new liquidity position is minted</p>
<pre><code class="language-solidity">event MintPosition(uint256 indexed tokenId);
</code></pre>
<h3 id="modifyliquidity-2"><a class="header" href="#modifyliquidity-2">ModifyLiquidity</a></h3>
<p>Emitted when liquidity is modified</p>
<pre><code class="language-solidity">event ModifyLiquidity(uint256 indexed tokenId, int256 liquidityChange, BalanceDelta feesAccrued);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>the tokenId of the position that was modified</td></tr>
<tr><td><code>liquidityChange</code></td><td><code>int256</code></td><td>the change in liquidity of the position</td></tr>
<tr><td><code>feesAccrued</code></td><td><code>BalanceDelta</code></td><td>the fees collected from the liquidity change</td></tr>
</tbody></table>
</div>
<h2 id="errors-13"><a class="header" href="#errors-13">Errors</a></h2>
<h3 id="deadlinepassed"><a class="header" href="#deadlinepassed">DeadlinePassed</a></h3>
<p>Thrown when the block.timestamp exceeds the user-provided deadline</p>
<pre><code class="language-solidity">error DeadlinePassed(uint256 deadline);
</code></pre>
<h3 id="vaultmustbeunlocked"><a class="header" href="#vaultmustbeunlocked">VaultMustBeUnlocked</a></h3>
<p>Thrown when calling transfer, subscribe, or unsubscribe on CLPositionManager
or batchTransferFrom on BinPositionManager when the vault is locked.</p>
<p><em>This is to prevent hooks from being able to trigger actions or notifications at the same time the position is being modified.</em></p>
<pre><code class="language-solidity">error VaultMustBeUnlocked();
</code></pre>
<h3 id="invalidtokenid"><a class="header" href="#invalidtokenid">InvalidTokenID</a></h3>
<p>Thrown when the token ID is bind to an unexisting pool</p>
<pre><code class="language-solidity">error InvalidTokenID();
</code></pre>
<h3 id="notapproved"><a class="header" href="#notapproved">NotApproved</a></h3>
<p>Thrown when the caller is not approved to modify a position</p>
<pre><code class="language-solidity">error NotApproved(address caller);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="poolid"><a class="header" href="#poolid">PoolId</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/pancakev4/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">type PoolId is bytes32;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="balancedelta"><a class="header" href="#balancedelta">BalanceDelta</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/pancakev4/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">type BalanceDelta is int256;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clpositioninfo"><a class="header" href="#clpositioninfo">CLPositionInfo</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/pancakev4/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">type CLPositionInfo is uint256;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tickinfo"><a class="header" href="#tickinfo">TickInfo</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/pancakev4/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct TickInfo {
  uint128 liquidityGross;
  int128 liquidityNet;
  uint256 feeGrowthOutside0X128;
  uint256 feeGrowthOutside1X128;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="poolkey"><a class="header" href="#poolkey">PoolKey</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/pancakev4/Types.sol">Git Source</a></p>
<p>Returns the key for identifying a pool</p>
<pre><code class="language-solidity">struct PoolKey {
  address currency0;
  address currency1;
  address hooks;
  address poolManager;
  uint24 fee;
  bytes32 parameters;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="actions"><a class="header" href="#actions">Actions</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/pancakev4/Types.sol">Git Source</a></p>
<p>Library to define different pool actions.</p>
<p><em>These are suggested common commands, however additional commands should be defined as required</em></p>
<h2 id="state-variables-10"><a class="header" href="#state-variables-10">State Variables</a></h2>
<h3 id="cl_increase_liquidity"><a class="header" href="#cl_increase_liquidity">CL_INCREASE_LIQUIDITY</a></h3>
<pre><code class="language-solidity">uint256 constant CL_INCREASE_LIQUIDITY = 0x00;
</code></pre>
<h3 id="cl_decrease_liquidity"><a class="header" href="#cl_decrease_liquidity">CL_DECREASE_LIQUIDITY</a></h3>
<pre><code class="language-solidity">uint256 constant CL_DECREASE_LIQUIDITY = 0x01;
</code></pre>
<h3 id="cl_mint_position"><a class="header" href="#cl_mint_position">CL_MINT_POSITION</a></h3>
<pre><code class="language-solidity">uint256 constant CL_MINT_POSITION = 0x02;
</code></pre>
<h3 id="cl_burn_position"><a class="header" href="#cl_burn_position">CL_BURN_POSITION</a></h3>
<pre><code class="language-solidity">uint256 constant CL_BURN_POSITION = 0x03;
</code></pre>
<h3 id="cl_increase_liquidity_from_deltas"><a class="header" href="#cl_increase_liquidity_from_deltas">CL_INCREASE_LIQUIDITY_FROM_DELTAS</a></h3>
<pre><code class="language-solidity">uint256 constant CL_INCREASE_LIQUIDITY_FROM_DELTAS = 0x04;
</code></pre>
<h3 id="cl_mint_position_from_deltas"><a class="header" href="#cl_mint_position_from_deltas">CL_MINT_POSITION_FROM_DELTAS</a></h3>
<pre><code class="language-solidity">uint256 constant CL_MINT_POSITION_FROM_DELTAS = 0x05;
</code></pre>
<h3 id="cl_swap_exact_in_single"><a class="header" href="#cl_swap_exact_in_single">CL_SWAP_EXACT_IN_SINGLE</a></h3>
<pre><code class="language-solidity">uint256 constant CL_SWAP_EXACT_IN_SINGLE = 0x06;
</code></pre>
<h3 id="cl_swap_exact_in"><a class="header" href="#cl_swap_exact_in">CL_SWAP_EXACT_IN</a></h3>
<pre><code class="language-solidity">uint256 constant CL_SWAP_EXACT_IN = 0x07;
</code></pre>
<h3 id="cl_swap_exact_out_single"><a class="header" href="#cl_swap_exact_out_single">CL_SWAP_EXACT_OUT_SINGLE</a></h3>
<pre><code class="language-solidity">uint256 constant CL_SWAP_EXACT_OUT_SINGLE = 0x08;
</code></pre>
<h3 id="cl_swap_exact_out"><a class="header" href="#cl_swap_exact_out">CL_SWAP_EXACT_OUT</a></h3>
<pre><code class="language-solidity">uint256 constant CL_SWAP_EXACT_OUT = 0x09;
</code></pre>
<h3 id="cl_donate"><a class="header" href="#cl_donate">CL_DONATE</a></h3>
<p><em>this is not supported in the position manager or router</em></p>
<pre><code class="language-solidity">uint256 constant CL_DONATE = 0x0a;
</code></pre>
<h3 id="settle"><a class="header" href="#settle">SETTLE</a></h3>
<pre><code class="language-solidity">uint256 constant SETTLE = 0x0b;
</code></pre>
<h3 id="settle_all"><a class="header" href="#settle_all">SETTLE_ALL</a></h3>
<pre><code class="language-solidity">uint256 constant SETTLE_ALL = 0x0c;
</code></pre>
<h3 id="settle_pair"><a class="header" href="#settle_pair">SETTLE_PAIR</a></h3>
<pre><code class="language-solidity">uint256 constant SETTLE_PAIR = 0x0d;
</code></pre>
<h3 id="take"><a class="header" href="#take">TAKE</a></h3>
<pre><code class="language-solidity">uint256 constant TAKE = 0x0e;
</code></pre>
<h3 id="take_all"><a class="header" href="#take_all">TAKE_ALL</a></h3>
<pre><code class="language-solidity">uint256 constant TAKE_ALL = 0x0f;
</code></pre>
<h3 id="take_portion"><a class="header" href="#take_portion">TAKE_PORTION</a></h3>
<pre><code class="language-solidity">uint256 constant TAKE_PORTION = 0x10;
</code></pre>
<h3 id="take_pair"><a class="header" href="#take_pair">TAKE_PAIR</a></h3>
<pre><code class="language-solidity">uint256 constant TAKE_PAIR = 0x11;
</code></pre>
<h3 id="close_currency"><a class="header" href="#close_currency">CLOSE_CURRENCY</a></h3>
<pre><code class="language-solidity">uint256 constant CLOSE_CURRENCY = 0x12;
</code></pre>
<h3 id="clear_or_take"><a class="header" href="#clear_or_take">CLEAR_OR_TAKE</a></h3>
<pre><code class="language-solidity">uint256 constant CLEAR_OR_TAKE = 0x13;
</code></pre>
<h3 id="sweep"><a class="header" href="#sweep">SWEEP</a></h3>
<pre><code class="language-solidity">uint256 constant SWEEP = 0x14;
</code></pre>
<h3 id="wrap"><a class="header" href="#wrap">WRAP</a></h3>
<pre><code class="language-solidity">uint256 constant WRAP = 0x15;
</code></pre>
<h3 id="unwrap"><a class="header" href="#unwrap">UNWRAP</a></h3>
<pre><code class="language-solidity">uint256 constant UNWRAP = 0x16;
</code></pre>
<h3 id="mint_6909"><a class="header" href="#mint_6909">MINT_6909</a></h3>
<p><em>this is not supported in the position manager or router</em></p>
<pre><code class="language-solidity">uint256 constant MINT_6909 = 0x17;
</code></pre>
<h3 id="burn_6909"><a class="header" href="#burn_6909">BURN_6909</a></h3>
<pre><code class="language-solidity">uint256 constant BURN_6909 = 0x18;
</code></pre>
<h3 id="bin_add_liquidity"><a class="header" href="#bin_add_liquidity">BIN_ADD_LIQUIDITY</a></h3>
<pre><code class="language-solidity">uint256 constant BIN_ADD_LIQUIDITY = 0x19;
</code></pre>
<h3 id="bin_remove_liquidity"><a class="header" href="#bin_remove_liquidity">BIN_REMOVE_LIQUIDITY</a></h3>
<pre><code class="language-solidity">uint256 constant BIN_REMOVE_LIQUIDITY = 0x1a;
</code></pre>
<h3 id="bin_add_liquidity_from_deltas"><a class="header" href="#bin_add_liquidity_from_deltas">BIN_ADD_LIQUIDITY_FROM_DELTAS</a></h3>
<pre><code class="language-solidity">uint256 constant BIN_ADD_LIQUIDITY_FROM_DELTAS = 0x1b;
</code></pre>
<h3 id="bin_swap_exact_in_single"><a class="header" href="#bin_swap_exact_in_single">BIN_SWAP_EXACT_IN_SINGLE</a></h3>
<pre><code class="language-solidity">uint256 constant BIN_SWAP_EXACT_IN_SINGLE = 0x1c;
</code></pre>
<h3 id="bin_swap_exact_in"><a class="header" href="#bin_swap_exact_in">BIN_SWAP_EXACT_IN</a></h3>
<pre><code class="language-solidity">uint256 constant BIN_SWAP_EXACT_IN = 0x1d;
</code></pre>
<h3 id="bin_swap_exact_out_single"><a class="header" href="#bin_swap_exact_out_single">BIN_SWAP_EXACT_OUT_SINGLE</a></h3>
<pre><code class="language-solidity">uint256 constant BIN_SWAP_EXACT_OUT_SINGLE = 0x1e;
</code></pre>
<h3 id="bin_swap_exact_out"><a class="header" href="#bin_swap_exact_out">BIN_SWAP_EXACT_OUT</a></h3>
<pre><code class="language-solidity">uint256 constant BIN_SWAP_EXACT_OUT = 0x1f;
</code></pre>
<h3 id="bin_donate"><a class="header" href="#bin_donate">BIN_DONATE</a></h3>
<pre><code class="language-solidity">uint256 constant BIN_DONATE = 0x20;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-9"><a class="header" href="#contents-9">Contents</a></h1>
<ul>
<li><a href="src/interfaces/uniswapv2/IUniswapV2Pair.sol/interface.IUniswapV2Pair.html">IUniswapV2Pair</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv2pair"><a class="header" href="#iuniswapv2pair">IUniswapV2Pair</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/uniswapv2/IUniswapV2Pair.sol">Git Source</a></p>
<h2 id="functions-21"><a class="header" href="#functions-21">Functions</a></h2>
<h3 id="token0"><a class="header" href="#token0">token0</a></h3>
<pre><code class="language-solidity">function token0() external view returns (address);
</code></pre>
<h3 id="token1"><a class="header" href="#token1">token1</a></h3>
<pre><code class="language-solidity">function token1() external view returns (address);
</code></pre>
<h3 id="skim"><a class="header" href="#skim">skim</a></h3>
<pre><code class="language-solidity">function skim(address to) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-10"><a class="header" href="#contents-10">Contents</a></h1>
<ul>
<li><a href="src/interfaces/uniswapv3/IUniswapV3PM.sol/interface.IUniswapV3PM.html">IUniswapV3PM</a></li>
<li><a href="src/interfaces/uniswapv3/IUniswapV3Pool.sol/interface.IUniswapV3Pool.html">IUniswapV3Pool</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv3pm"><a class="header" href="#iuniswapv3pm">IUniswapV3PM</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/uniswapv3/IUniswapV3PM.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC721</p>
<h2 id="functions-22"><a class="header" href="#functions-22">Functions</a></h2>
<h3 id="multicall"><a class="header" href="#multicall">multicall</a></h3>
<pre><code class="language-solidity">function multicall(bytes[] calldata data) external payable returns (bytes[] memory results);
</code></pre>
<h3 id="unwrapweth9"><a class="header" href="#unwrapweth9">unwrapWETH9</a></h3>
<p>Unwraps the contract's WETH9 balance and sends it to recipient as ETH.</p>
<p><em>The amountMinimum parameter prevents malicious contracts from stealing WETH9 from users.</em></p>
<pre><code class="language-solidity">function unwrapWETH9(uint256 amountMinimum, address recipient) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountMinimum</code></td><td><code>uint256</code></td><td>The minimum amount of WETH9 to unwrap</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The address receiving ETH</td></tr>
</tbody></table>
</div>
<h3 id="sweeptoken"><a class="header" href="#sweeptoken">sweepToken</a></h3>
<p>Transfers the full amount of a token held by this contract to recipient</p>
<p><em>The amountMinimum parameter prevents malicious contracts from stealing the token from users</em></p>
<pre><code class="language-solidity">function sweepToken(address token, uint256 amountMinimum, address recipient) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>The contract address of the token which will be transferred to <code>recipient</code></td></tr>
<tr><td><code>amountMinimum</code></td><td><code>uint256</code></td><td>The minimum amount of token required for a transfer</td></tr>
<tr><td><code>recipient</code></td><td><code>address</code></td><td>The destination address of the token</td></tr>
</tbody></table>
</div>
<h3 id="decreaseliquidity"><a class="header" href="#decreaseliquidity">decreaseLiquidity</a></h3>
<p>Decreases the amount of liquidity in a position and accounts it to the position</p>
<pre><code class="language-solidity">function decreaseLiquidity(DecreaseLiquidityParams calldata params)
  external
  payable
  returns (uint256 amount0, uint256 amount1);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>params</code></td><td><code>DecreaseLiquidityParams</code></td><td>tokenId The ID of the token for which liquidity is being decreased, amount The amount by which liquidity will be decreased, amount0Min The minimum amount of token0 that should be accounted for the burned liquidity, amount1Min The minimum amount of token1 that should be accounted for the burned liquidity, deadline The time by which the transaction must be included to effect the change</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount0</code></td><td><code>uint256</code></td><td>The amount of token0 accounted to the position's tokens owed</td></tr>
<tr><td><code>amount1</code></td><td><code>uint256</code></td><td>The amount of token1 accounted to the position's tokens owed</td></tr>
</tbody></table>
</div>
<h3 id="positions-1"><a class="header" href="#positions-1">positions</a></h3>
<pre><code class="language-solidity">function positions(uint256 tokenId)
  external
  view
  returns (
    uint96 nonce,
    address operator,
    address token0,
    address token1,
    uint24 fee,
    int24 tickLower,
    int24 tickUpper,
    uint128 liquidity,
    uint256 feeGrowthInside0LastX128,
    uint256 feeGrowthInside1LastX128,
    uint128 tokensOwed0,
    uint128 tokensOwed1
  );
</code></pre>
<h3 id="collect"><a class="header" href="#collect">collect</a></h3>
<p>Collects up to a maximum amount of fees owed to a specific position to the recipient</p>
<pre><code class="language-solidity">function collect(CollectParams calldata params)
  external
  payable
  returns (uint256 amount0, uint256 amount1);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>params</code></td><td><code>CollectParams</code></td><td>tokenId The ID of the NFT for which tokens are being collected, recipient The account that should receive the tokens, amount0Max The maximum amount of token0 to collect, amount1Max The maximum amount of token1 to collect</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount0</code></td><td><code>uint256</code></td><td>The amount of fees collected in token0</td></tr>
<tr><td><code>amount1</code></td><td><code>uint256</code></td><td>The amount of fees collected in token1</td></tr>
</tbody></table>
</div>
<h3 id="factory"><a class="header" href="#factory">factory</a></h3>
<pre><code class="language-solidity">function factory() external view returns (address);
</code></pre>
<h2 id="structs-15"><a class="header" href="#structs-15">Structs</a></h2>
<h3 id="decreaseliquidityparams"><a class="header" href="#decreaseliquidityparams">DecreaseLiquidityParams</a></h3>
<pre><code class="language-solidity">struct DecreaseLiquidityParams {
  uint256 tokenId;
  uint128 liquidity;
  uint256 amount0Min;
  uint256 amount1Min;
  uint256 deadline;
}
</code></pre>
<h3 id="collectparams"><a class="header" href="#collectparams">CollectParams</a></h3>
<pre><code class="language-solidity">struct CollectParams {
  uint256 tokenId;
  address recipient;
  uint128 amount0Max;
  uint128 amount1Max;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iuniswapv3pool"><a class="header" href="#iuniswapv3pool">IUniswapV3Pool</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/uniswapv3/IUniswapV3Pool.sol">Git Source</a></p>
<h2 id="functions-23"><a class="header" href="#functions-23">Functions</a></h2>
<h3 id="slot0"><a class="header" href="#slot0">slot0</a></h3>
<pre><code class="language-solidity">function slot0()
  external
  view
  returns (
    uint160 sqrtPriceX96,
    int24 tick,
    uint16 observationIndex,
    uint16 observationCardinality,
    uint16 observationCardinalityNext,
    uint256 feeProtocol,
    bool unlocked
  );
</code></pre>
<h3 id="feegrowthglobal0x128"><a class="header" href="#feegrowthglobal0x128">feeGrowthGlobal0X128</a></h3>
<p>The fee growth as a Q128.128 fees of token0 collected per unit of liquidity for the entire life of the pool</p>
<p><em>This value can overflow the uint256</em></p>
<pre><code class="language-solidity">function feeGrowthGlobal0X128() external view returns (uint256);
</code></pre>
<h3 id="feegrowthglobal1x128"><a class="header" href="#feegrowthglobal1x128">feeGrowthGlobal1X128</a></h3>
<p>The fee growth as a Q128.128 fees of token1 collected per unit of liquidity for the entire life of the pool</p>
<p><em>This value can overflow the uint256</em></p>
<pre><code class="language-solidity">function feeGrowthGlobal1X128() external view returns (uint256);
</code></pre>
<h3 id="protocolfees"><a class="header" href="#protocolfees">protocolFees</a></h3>
<p>The amounts of token0 and token1 that are owed to the protocol</p>
<p><em>Protocol fees will never exceed uint128 max in either token</em></p>
<pre><code class="language-solidity">function protocolFees() external view returns (uint128 token0, uint128 token1);
</code></pre>
<h3 id="liquidity"><a class="header" href="#liquidity">liquidity</a></h3>
<p>The currently in range liquidity available to the pool</p>
<p><em>This value has no relationship to the total liquidity across all ticks</em></p>
<pre><code class="language-solidity">function liquidity() external view returns (uint128);
</code></pre>
<h3 id="ticks"><a class="header" href="#ticks">ticks</a></h3>
<p>Look up information about a specific tick in the pool</p>
<pre><code class="language-solidity">function ticks(int24 tick)
  external
  view
  returns (
    uint128 liquidityGross,
    int128 liquidityNet,
    uint256 feeGrowthOutside0X128,
    uint256 feeGrowthOutside1X128,
    int56 tickCumulativeOutside,
    uint160 secondsPerLiquidityOutsideX128,
    uint32 secondsOutside,
    bool initialized
  );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tick</code></td><td><code>int24</code></td><td>The tick to look up</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidityGross</code></td><td><code>uint128</code></td><td>the total amount of position liquidity that uses the pool either as tick lower or tick upper, liquidityNet how much liquidity changes when the pool price crosses the tick, feeGrowthOutside0X128 the fee growth on the other side of the tick from the current tick in token0, feeGrowthOutside1X128 the fee growth on the other side of the tick from the current tick in token1, tickCumulativeOutside the cumulative tick value on the other side of the tick from the current tick secondsPerLiquidityOutsideX128 the seconds spent per liquidity on the other side of the tick from the current tick, secondsOutside the seconds spent on the other side of the tick from the current tick, initialized Set to true if the tick is initialized, i.e. liquidityGross is greater than 0, otherwise equal to false. Outside values can only be used if the tick is initialized, i.e. if liquidityGross is greater than 0. In addition, these values are only relative and must be used only in comparison to previous snapshots for a specific position.</td></tr>
<tr><td><code>liquidityNet</code></td><td><code>int128</code></td><td></td></tr>
<tr><td><code>feeGrowthOutside0X128</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>feeGrowthOutside1X128</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>tickCumulativeOutside</code></td><td><code>int56</code></td><td></td></tr>
<tr><td><code>secondsPerLiquidityOutsideX128</code></td><td><code>uint160</code></td><td></td></tr>
<tr><td><code>secondsOutside</code></td><td><code>uint32</code></td><td></td></tr>
<tr><td><code>initialized</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-11"><a class="header" href="#contents-11">Contents</a></h1>
<ul>
<li><a href="src/interfaces/uniswapv4/IPoolManager.sol/struct.PoolKey.html">PoolKey</a></li>
<li><a href="src/interfaces/uniswapv4/IPoolManager.sol/interface.IPoolManager.html">IPoolManager</a></li>
<li><a href="src/interfaces/uniswapv4/IPositionManager.sol/interface.IPositionManager.html">IPositionManager</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="poolkey-1"><a class="header" href="#poolkey-1">PoolKey</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/uniswapv4/IPoolManager.sol">Git Source</a></p>
<p>Returns the key for identifying a pool</p>
<pre><code class="language-solidity">struct PoolKey {
  address currency0;
  address currency1;
  uint24 fee;
  int24 tickSpacing;
  address hooks;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipoolmanager"><a class="header" href="#ipoolmanager">IPoolManager</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/uniswapv4/IPoolManager.sol">Git Source</a></p>
<p>Interface for the PoolManager</p>
<h2 id="functions-24"><a class="header" href="#functions-24">Functions</a></h2>
<h3 id="extsload"><a class="header" href="#extsload">extsload</a></h3>
<p>Called by external contracts to access granular pool state</p>
<pre><code class="language-solidity">function extsload(bytes32 slot) external view returns (bytes32 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>slot</code></td><td><code>bytes32</code></td><td>Key of slot to sload</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>bytes32</code></td><td>The value of the slot as bytes32</td></tr>
</tbody></table>
</div>
<h3 id="extsload-1"><a class="header" href="#extsload-1">extsload</a></h3>
<p>Called by external contracts to access granular pool state</p>
<pre><code class="language-solidity">function extsload(bytes32 startSlot, uint256 nSlots)
  external
  view
  returns (bytes32[] memory values);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>startSlot</code></td><td><code>bytes32</code></td><td>Key of slot to start sloading from</td></tr>
<tr><td><code>nSlots</code></td><td><code>uint256</code></td><td>Number of slots to load into return value</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>values</code></td><td><code>bytes32[]</code></td><td>List of loaded values.</td></tr>
</tbody></table>
</div>
<h3 id="extsload-2"><a class="header" href="#extsload-2">extsload</a></h3>
<p>Called by external contracts to access sparse pool state</p>
<pre><code class="language-solidity">function extsload(bytes32[] calldata slots) external view returns (bytes32[] memory values);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>slots</code></td><td><code>bytes32[]</code></td><td>List of slots to SLOAD from.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>values</code></td><td><code>bytes32[]</code></td><td>List of loaded values.</td></tr>
</tbody></table>
</div>
<h3 id="exttload"><a class="header" href="#exttload">exttload</a></h3>
<p>Called by external contracts to access transient storage of the contract</p>
<pre><code class="language-solidity">function exttload(bytes32 slot) external view returns (bytes32 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>slot</code></td><td><code>bytes32</code></td><td>Key of slot to tload</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>bytes32</code></td><td>The value of the slot as bytes32</td></tr>
</tbody></table>
</div>
<h3 id="exttload-1"><a class="header" href="#exttload-1">exttload</a></h3>
<p>Called by external contracts to access sparse transient pool state</p>
<pre><code class="language-solidity">function exttload(bytes32[] calldata slots) external view returns (bytes32[] memory values);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>slots</code></td><td><code>bytes32[]</code></td><td>List of slots to tload</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>values</code></td><td><code>bytes32[]</code></td><td>List of loaded values</td></tr>
</tbody></table>
</div>
<h2 id="errors-14"><a class="header" href="#errors-14">Errors</a></h2>
<h3 id="currencynotsettled"><a class="header" href="#currencynotsettled">CurrencyNotSettled</a></h3>
<p>Thrown when a currency is not netted out after the contract is unlocked</p>
<pre><code class="language-solidity">error CurrencyNotSettled();
</code></pre>
<h3 id="poolnotinitialized-1"><a class="header" href="#poolnotinitialized-1">PoolNotInitialized</a></h3>
<p>Thrown when trying to interact with a non-initialized pool</p>
<pre><code class="language-solidity">error PoolNotInitialized();
</code></pre>
<h3 id="alreadyunlocked"><a class="header" href="#alreadyunlocked">AlreadyUnlocked</a></h3>
<p>Thrown when unlock is called, but the contract is already unlocked</p>
<pre><code class="language-solidity">error AlreadyUnlocked();
</code></pre>
<h3 id="managerlocked"><a class="header" href="#managerlocked">ManagerLocked</a></h3>
<p>Thrown when a function is called that requires the contract to be unlocked, but it is not</p>
<pre><code class="language-solidity">error ManagerLocked();
</code></pre>
<h3 id="tickspacingtoolarge-1"><a class="header" href="#tickspacingtoolarge-1">TickSpacingTooLarge</a></h3>
<p>Pools are limited to type(int16).max tickSpacing in #initialize, to prevent overflow</p>
<pre><code class="language-solidity">error TickSpacingTooLarge(int24 tickSpacing);
</code></pre>
<h3 id="tickspacingtoosmall-1"><a class="header" href="#tickspacingtoosmall-1">TickSpacingTooSmall</a></h3>
<p>Pools must have a positive non-zero tickSpacing passed to #initialize</p>
<pre><code class="language-solidity">error TickSpacingTooSmall(int24 tickSpacing);
</code></pre>
<h3 id="currenciesoutoforderorequal"><a class="header" href="#currenciesoutoforderorequal">CurrenciesOutOfOrderOrEqual</a></h3>
<p>PoolKey must have currencies where address(currency0) &lt; address(currency1)</p>
<pre><code class="language-solidity">error CurrenciesOutOfOrderOrEqual(address currency0, address currency1);
</code></pre>
<h3 id="unauthorizeddynamiclpfeeupdate-1"><a class="header" href="#unauthorizeddynamiclpfeeupdate-1">UnauthorizedDynamicLPFeeUpdate</a></h3>
<p>Thrown when a call to updateDynamicLPFee is made by an address that is not the hook,
or on a pool that does not have a dynamic swap fee.</p>
<pre><code class="language-solidity">error UnauthorizedDynamicLPFeeUpdate();
</code></pre>
<h3 id="swapamountcannotbezero-1"><a class="header" href="#swapamountcannotbezero-1">SwapAmountCannotBeZero</a></h3>
<p>Thrown when trying to swap amount of 0</p>
<pre><code class="language-solidity">error SwapAmountCannotBeZero();
</code></pre>
<h3 id="nonzeronativevalue"><a class="header" href="#nonzeronativevalue">NonzeroNativeValue</a></h3>
<p>Thrown when native currency is passed to a non native settlement</p>
<pre><code class="language-solidity">error NonzeroNativeValue();
</code></pre>
<h3 id="mustclearexactpositivedelta"><a class="header" href="#mustclearexactpositivedelta">MustClearExactPositiveDelta</a></h3>
<p>Thrown when <code>clear</code> is called with an amount that is not exactly equal to the open currency delta.</p>
<pre><code class="language-solidity">error MustClearExactPositiveDelta();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipositionmanager"><a class="header" href="#ipositionmanager">IPositionManager</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/uniswapv4/IPositionManager.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC721</p>
<p>Interface for the PositionManager contract</p>
<h2 id="functions-25"><a class="header" href="#functions-25">Functions</a></h2>
<h3 id="getpositionliquidity-1"><a class="header" href="#getpositionliquidity-1">getPositionLiquidity</a></h3>
<p><em>this value can be processed as an amount0 and amount1 by using the LiquidityAmounts library</em></p>
<pre><code class="language-solidity">function getPositionLiquidity(uint256 tokenId) external view returns (uint128 liquidity);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>the ERC721 tokenId</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>the position's liquidity, as a liquidityAmount</td></tr>
</tbody></table>
</div>
<h3 id="getpoolandpositioninfo-1"><a class="header" href="#getpoolandpositioninfo-1">getPoolAndPositionInfo</a></h3>
<pre><code class="language-solidity">function getPoolAndPositionInfo(uint256 tokenId) external view returns (PoolKey memory, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>the ERC721 tokenId</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>PoolKey</code></td><td>PositionInfo a uint256 packed value holding information about the position including the range (tickLower, tickUpper)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>poolKey the pool key of the position</td></tr>
</tbody></table>
</div>
<h3 id="poolmanager"><a class="header" href="#poolmanager">poolManager</a></h3>
<pre><code class="language-solidity">function poolManager() external view returns (IPoolManager);
</code></pre>
<h3 id="modifyliquidities-1"><a class="header" href="#modifyliquidities-1">modifyLiquidities</a></h3>
<pre><code class="language-solidity">function modifyLiquidities(bytes calldata unlockData, uint256 deadline) external payable;
</code></pre>
<h2 id="errors-15"><a class="header" href="#errors-15">Errors</a></h2>
<h3 id="notapproved-1"><a class="header" href="#notapproved-1">NotApproved</a></h3>
<p>Thrown when the caller is not approved to modify a position</p>
<pre><code class="language-solidity">error NotApproved(address caller);
</code></pre>
<h3 id="deadlinepassed-1"><a class="header" href="#deadlinepassed-1">DeadlinePassed</a></h3>
<p>Thrown when the block.timestamp exceeds the user-provided deadline</p>
<pre><code class="language-solidity">error DeadlinePassed(uint256 deadline);
</code></pre>
<h3 id="poolmanagermustbelocked"><a class="header" href="#poolmanagermustbelocked">PoolManagerMustBeLocked</a></h3>
<p>Thrown when calling transfer, subscribe, or unsubscribe when the PoolManager is unlocked.</p>
<p><em>This is to prevent hooks from being able to trigger notifications at the same time the position is being modified.</em></p>
<pre><code class="language-solidity">error PoolManagerMustBeLocked();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ikssmartintentrouter"><a class="header" href="#ikssmartintentrouter">IKSSmartIntentRouter</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/IKSSmartIntentRouter.sol">Git Source</a></p>
<h2 id="functions-26"><a class="header" href="#functions-26">Functions</a></h2>
<h3 id="delegate"><a class="header" href="#delegate">delegate</a></h3>
<p>Delegate the intent to the delegated address</p>
<pre><code class="language-solidity">function delegate(IntentData calldata intentData) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The data for the intent</td></tr>
</tbody></table>
</div>
<h3 id="revoke"><a class="header" href="#revoke">revoke</a></h3>
<p>Revoke the delegated intent</p>
<pre><code class="language-solidity">function revoke(IntentData memory intentData) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The intent data to revoke</td></tr>
</tbody></table>
</div>
<h3 id="execute"><a class="header" href="#execute">execute</a></h3>
<p>Execute the intent</p>
<pre><code class="language-solidity">function execute(
  IntentData calldata intentData,
  bytes memory daSignature,
  address guardian,
  bytes memory gdSignature,
  ActionData calldata actionData
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The data for the intent</td></tr>
<tr><td><code>daSignature</code></td><td><code>bytes</code></td><td>The signature of the delegated address</td></tr>
<tr><td><code>guardian</code></td><td><code>address</code></td><td>The address of the guardian</td></tr>
<tr><td><code>gdSignature</code></td><td><code>bytes</code></td><td>The signature of the guardian</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>The data for the action</td></tr>
</tbody></table>
</div>
<h3 id="executewithsignedintent"><a class="header" href="#executewithsignedintent">executeWithSignedIntent</a></h3>
<p>Execute the intent with the signed data and main address signature</p>
<pre><code class="language-solidity">function executeWithSignedIntent(
  IntentData calldata intentData,
  bytes memory maSignature,
  bytes memory daSignature,
  address guardian,
  bytes memory gdSignature,
  ActionData calldata actionData
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The data for the intent</td></tr>
<tr><td><code>maSignature</code></td><td><code>bytes</code></td><td>The signature of the main address</td></tr>
<tr><td><code>daSignature</code></td><td><code>bytes</code></td><td>The signature of the delegated address</td></tr>
<tr><td><code>guardian</code></td><td><code>address</code></td><td>The address of the guardian</td></tr>
<tr><td><code>gdSignature</code></td><td><code>bytes</code></td><td>The signature of the guardian</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>The data for the action</td></tr>
</tbody></table>
</div>
<h3 id="erc20allowances"><a class="header" href="#erc20allowances">erc20Allowances</a></h3>
<p>Return the ERC20 allowance for a specific intent</p>
<pre><code class="language-solidity">function erc20Allowances(bytes32 intentHash, address token)
  external
  view
  returns (uint256 allowance);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentHash</code></td><td><code>bytes32</code></td><td>The hash of the intent</td></tr>
<tr><td><code>token</code></td><td><code>address</code></td><td>The address of the ERC20 token</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>allowance</code></td><td><code>uint256</code></td><td>The allowance for the specified token</td></tr>
</tbody></table>
</div>
<h3 id="updateforwarder"><a class="header" href="#updateforwarder">updateForwarder</a></h3>
<p>Update the forwarder address</p>
<pre><code class="language-solidity">function updateForwarder(address newForwarder) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newForwarder</code></td><td><code>address</code></td><td>The new forwarder address</td></tr>
</tbody></table>
</div>
<h3 id="updatefeerecipient"><a class="header" href="#updatefeerecipient">updateFeeRecipient</a></h3>
<p>Update the intent fee recipient</p>
<pre><code class="language-solidity">function updateFeeRecipient(address newFeeRecipient) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newFeeRecipient</code></td><td><code>address</code></td><td>The new intent fee recipient</td></tr>
</tbody></table>
</div>
<h3 id="hashtypedintentdata"><a class="header" href="#hashtypedintentdata">hashTypedIntentData</a></h3>
<p>Hash the intent data with EIP712</p>
<pre><code class="language-solidity">function hashTypedIntentData(IntentData calldata intentData) external view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The intent data</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>hash The hash of the intent data</td></tr>
</tbody></table>
</div>
<h3 id="hashtypedactiondata"><a class="header" href="#hashtypedactiondata">hashTypedActionData</a></h3>
<p>Hash the action data with EIP712</p>
<pre><code class="language-solidity">function hashTypedActionData(ActionData calldata actionData) external view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>The action data</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>hash The hash of the action data</td></tr>
</tbody></table>
</div>
<h3 id="nonces"><a class="header" href="#nonces">nonces</a></h3>
<p>mapping of nonces consumed by each intent, where a nonce is a single bit on the 256-bit bitmap</p>
<p><em>word is at most type(uint248).max</em></p>
<pre><code class="language-solidity">function nonces(bytes32 intentHash, uint256 word) external view returns (uint256 bitmap);
</code></pre>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<h3 id="updateforwarder-1"><a class="header" href="#updateforwarder-1">UpdateForwarder</a></h3>
<p>Emitted when the forwarder is updated</p>
<pre><code class="language-solidity">event UpdateForwarder(address newForwarder);
</code></pre>
<h3 id="updatefeerecipient-1"><a class="header" href="#updatefeerecipient-1">UpdateFeeRecipient</a></h3>
<pre><code class="language-solidity">event UpdateFeeRecipient(address feeRecipient);
</code></pre>
<h3 id="delegateintent"><a class="header" href="#delegateintent">DelegateIntent</a></h3>
<p>Emitted when an intent is delegated</p>
<pre><code class="language-solidity">event DelegateIntent(
  address indexed mainAddress, address indexed delegatedAddress, IntentData intentData
);
</code></pre>
<h3 id="revokeintent"><a class="header" href="#revokeintent">RevokeIntent</a></h3>
<p>Emitted when an intent is revoked</p>
<pre><code class="language-solidity">event RevokeIntent(bytes32 indexed intentHash);
</code></pre>
<h3 id="executeintent"><a class="header" href="#executeintent">ExecuteIntent</a></h3>
<p>Emitted when an intent is executed</p>
<pre><code class="language-solidity">event ExecuteIntent(bytes32 indexed intentHash, ActionData actionData, bytes actionResult);
</code></pre>
<h3 id="usenonce"><a class="header" href="#usenonce">UseNonce</a></h3>
<p>Emitted when a nonce is consumed</p>
<pre><code class="language-solidity">event UseNonce(bytes32 indexed intentHash, uint256 nonce);
</code></pre>
<h3 id="extradata"><a class="header" href="#extradata">ExtraData</a></h3>
<p>Emitted when extra data is set</p>
<pre><code class="language-solidity">event ExtraData(bytes32 indexed intentHash, bytes extraData);
</code></pre>
<h2 id="errors-16"><a class="header" href="#errors-16">Errors</a></h2>
<h3 id="notmainaddress"><a class="header" href="#notmainaddress">NotMainAddress</a></h3>
<p>Thrown when the caller is not the main address</p>
<pre><code class="language-solidity">error NotMainAddress();
</code></pre>
<h3 id="actionexpired"><a class="header" href="#actionexpired">ActionExpired</a></h3>
<p>Thrown when the action is expired</p>
<pre><code class="language-solidity">error ActionExpired();
</code></pre>
<h3 id="intentnotdelegated"><a class="header" href="#intentnotdelegated">IntentNotDelegated</a></h3>
<p>Thrown when the intent has not been delegated</p>
<pre><code class="language-solidity">error IntentNotDelegated();
</code></pre>
<h3 id="intentdelegated"><a class="header" href="#intentdelegated">IntentDelegated</a></h3>
<p>Thrown when the intent has already been delegated</p>
<pre><code class="language-solidity">error IntentDelegated();
</code></pre>
<h3 id="intentrevoked"><a class="header" href="#intentrevoked">IntentRevoked</a></h3>
<p>Thrown when the intent has already been revoked</p>
<pre><code class="language-solidity">error IntentRevoked();
</code></pre>
<h3 id="invalidmainaddresssignature"><a class="header" href="#invalidmainaddresssignature">InvalidMainAddressSignature</a></h3>
<p>Thrown when the signature is not from the main address</p>
<pre><code class="language-solidity">error InvalidMainAddressSignature();
</code></pre>
<h3 id="invaliddelegatedaddresssignature"><a class="header" href="#invaliddelegatedaddresssignature">InvalidDelegatedAddressSignature</a></h3>
<p>Thrown when the signature is not from the session wallet</p>
<pre><code class="language-solidity">error InvalidDelegatedAddressSignature();
</code></pre>
<h3 id="invalidguardiansignature"><a class="header" href="#invalidguardiansignature">InvalidGuardianSignature</a></h3>
<p>Thrown when the signature is not from the guardian</p>
<pre><code class="language-solidity">error InvalidGuardianSignature();
</code></pre>
<h3 id="invalidactionselectorid"><a class="header" href="#invalidactionselectorid">InvalidActionSelectorId</a></h3>
<p>Thrown when the action contract and selector not found in intent</p>
<pre><code class="language-solidity">error InvalidActionSelectorId(uint256 actionSelectorId);
</code></pre>
<h3 id="noncealreadyused"><a class="header" href="#noncealreadyused">NonceAlreadyUsed</a></h3>
<p>Thrown when a nonce has already been used</p>
<pre><code class="language-solidity">error NonceAlreadyUsed(bytes32 intentHash, uint256 nonce);
</code></pre>
<h3 id="erc20insufficientintentallowance"><a class="header" href="#erc20insufficientintentallowance">ERC20InsufficientIntentAllowance</a></h3>
<p>Thrown when collecting more than the intent allowance for ERC20</p>
<pre><code class="language-solidity">error ERC20InsufficientIntentAllowance(
  bytes32 intentHash, address token, uint256 allowance, uint256 needed
);
</code></pre>
<h2 id="enums"><a class="header" href="#enums">Enums</a></h2>
<h3 id="intentstatus"><a class="header" href="#intentstatus">IntentStatus</a></h3>
<pre><code class="language-solidity">enum IntentStatus {
  NOT_DELEGATED,
  DELEGATED,
  REVOKED
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iweth"><a class="header" href="#iweth">IWETH</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/interfaces/IWETH.sol">Git Source</a></p>
<h2 id="functions-27"><a class="header" href="#functions-27">Functions</a></h2>
<h3 id="deposit"><a class="header" href="#deposit">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw"><a class="header" href="#withdraw">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-12"><a class="header" href="#contents-12">Contents</a></h1>
<ul>
<li><a href="src/libraries//src/libraries/types">types</a></li>
<li><a href="src/libraries//src/libraries/uniswapv4">uniswapv4</a></li>
<li><a href="src/libraries/HookLibrary.sol/library.HookLibrary.html">HookLibrary</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-13"><a class="header" href="#contents-13">Contents</a></h1>
<ul>
<li><a href="src/libraries/types/ActionData.sol/struct.ActionData.html">ActionData</a></li>
<li><a href="src/libraries/types/ActionData.sol/library.ActionDataLibrary.html">ActionDataLibrary</a></li>
<li><a href="src/libraries/types/ConditionTree.sol/type.ConditionType.html">ConditionType</a></li>
<li><a href="src/libraries/types/ConditionTree.sol/enum.OperationType.html">OperationType</a></li>
<li><a href="src/libraries/types/ConditionTree.sol/struct.Condition.html">Condition</a></li>
<li><a href="src/libraries/types/ConditionTree.sol/struct.Node.html">Node</a></li>
<li><a href="src/libraries/types/ConditionTree.sol/struct.ConditionTree.html">ConditionTree</a></li>
<li><a href="src/libraries/types/ConditionTree.sol/library.ConditionTreeLibrary.html">ConditionTreeLibrary</a></li>
<li><a href="src/libraries/types/ERC20Data.sol/struct.ERC20Data.html">ERC20Data</a></li>
<li><a href="src/libraries/types/ERC20Data.sol/library.ERC20DataLibrary.html">ERC20DataLibrary</a></li>
<li><a href="src/libraries/types/ERC721Data.sol/struct.ERC721Data.html">ERC721Data</a></li>
<li><a href="src/libraries/types/ERC721Data.sol/library.ERC721DataLibrary.html">ERC721DataLibrary</a></li>
<li><a href="src/libraries/types/IntentCoreData.sol/struct.IntentCoreData.html">IntentCoreData</a></li>
<li><a href="src/libraries/types/IntentCoreData.sol/library.IntentCoreDataLibrary.html">IntentCoreDataLibrary</a></li>
<li><a href="src/libraries/types/IntentData.sol/struct.IntentData.html">IntentData</a></li>
<li><a href="src/libraries/types/IntentData.sol/library.IntentDataLibrary.html">IntentDataLibrary</a></li>
<li><a href="src/libraries/types/TokenData.sol/struct.TokenData.html">TokenData</a></li>
<li><a href="src/libraries/types/TokenData.sol/library.TokenDataLibrary.html">TokenDataLibrary</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="actiondata"><a class="header" href="#actiondata">ActionData</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ActionData.sol">Git Source</a></p>
<p>Data structure for action</p>
<pre><code class="language-solidity">struct ActionData {
  uint256[] erc20Ids;
  uint256[] erc20Amounts;
  uint256[] erc721Ids;
  uint256 approvalFlags;
  uint256 actionSelectorId;
  bytes actionCalldata;
  bytes hookActionData;
  bytes extraData;
  uint256 deadline;
  uint256 nonce;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>erc20Ids</code></td><td><code>uint256[]</code></td><td>The IDs of the ERC20 tokens in the intent data</td></tr>
<tr><td><code>erc20Amounts</code></td><td><code>uint256[]</code></td><td>The amounts of the ERC20 tokens</td></tr>
<tr><td><code>erc721Ids</code></td><td><code>uint256[]</code></td><td>The IDs of the ERC721 tokens in the intent data</td></tr>
<tr><td><code>approvalFlags</code></td><td><code>uint256</code></td><td>The approval flags for the tokens</td></tr>
<tr><td><code>actionSelectorId</code></td><td><code>uint256</code></td><td>The ID of the action selector</td></tr>
<tr><td><code>actionCalldata</code></td><td><code>bytes</code></td><td>The calldata for the action</td></tr>
<tr><td><code>hookActionData</code></td><td><code>bytes</code></td><td>The action data for the hook</td></tr>
<tr><td><code>extraData</code></td><td><code>bytes</code></td><td>The extra data for the action</td></tr>
<tr><td><code>deadline</code></td><td><code>uint256</code></td><td>The deadline for the action</td></tr>
<tr><td><code>nonce</code></td><td><code>uint256</code></td><td>The nonce for the action</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="actiondatalibrary"><a class="header" href="#actiondatalibrary">ActionDataLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ActionData.sol">Git Source</a></p>
<h2 id="state-variables-11"><a class="header" href="#state-variables-11">State Variables</a></h2>
<h3 id="action_data_type_hash"><a class="header" href="#action_data_type_hash">ACTION_DATA_TYPE_HASH</a></h3>
<pre><code class="language-solidity">bytes32 constant ACTION_DATA_TYPE_HASH = keccak256(
  abi.encodePacked(
    'ActionData(uint256[] erc20Ids,uint256[] erc20Amounts,uint256[] erc721Ids,uint256 approvalFlags,uint256 actionSelectorId,bytes actionCalldata,bytes hookActionData,bytes extraData,uint256 deadline,uint256 nonce)'
  )
);
</code></pre>
<h2 id="functions-28"><a class="header" href="#functions-28">Functions</a></h2>
<h3 id="hash"><a class="header" href="#hash">hash</a></h3>
<pre><code class="language-solidity">function hash(ActionData calldata self) internal pure returns (bytes32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conditiontype"><a class="header" href="#conditiontype">ConditionType</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ConditionTree.sol">Git Source</a></p>
<pre><code class="language-solidity">type ConditionType is bytes32;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operationtype"><a class="header" href="#operationtype">OperationType</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ConditionTree.sol">Git Source</a></p>
<pre><code class="language-solidity">enum OperationType {
  AND,
  OR
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="condition"><a class="header" href="#condition">Condition</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ConditionTree.sol">Git Source</a></p>
<pre><code class="language-solidity">struct Condition {
  ConditionType conditionType;
  bytes data;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>conditionType</code></td><td><code>ConditionType</code></td><td>the type of the condition</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>the data of the condition</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="node"><a class="header" href="#node">Node</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ConditionTree.sol">Git Source</a></p>
<pre><code class="language-solidity">struct Node {
  OperationType operationType;
  Condition condition;
  uint256[] childrenIndexes;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operationType</code></td><td><code>OperationType</code></td><td>the type of the operation (AND or OR)</td></tr>
<tr><td><code>condition</code></td><td><code>Condition</code></td><td>the condition to be validated</td></tr>
<tr><td><code>childrenIndexes</code></td><td><code>uint256[]</code></td><td>the indexes of the children nodes (if the node is a leaf, this is empty)</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="conditiontree"><a class="header" href="#conditiontree">ConditionTree</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ConditionTree.sol">Git Source</a></p>
<pre><code class="language-solidity">struct ConditionTree {
  Node[] nodes;
  bytes[] additionalData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nodes</code></td><td><code>Node[]</code></td><td>the nodes of the condition tree</td></tr>
<tr><td><code>additionalData</code></td><td><code>bytes[]</code></td><td>the additional data to be validated or used for validation for each node (should be empty for non-leaf nodes)</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="conditiontreelibrary"><a class="header" href="#conditiontreelibrary">ConditionTreeLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ConditionTree.sol">Git Source</a></p>
<p>Library for condition tree evaluation</p>
<h2 id="state-variables-12"><a class="header" href="#state-variables-12">State Variables</a></h2>
<h3 id="and"><a class="header" href="#and">AND</a></h3>
<pre><code class="language-solidity">OperationType public constant AND = OperationType.AND;
</code></pre>
<h3 id="or"><a class="header" href="#or">OR</a></h3>
<pre><code class="language-solidity">OperationType public constant OR = OperationType.OR;
</code></pre>
<h2 id="functions-29"><a class="header" href="#functions-29">Functions</a></h2>
<h3 id="evaluateconditiontree"><a class="header" href="#evaluateconditiontree">evaluateConditionTree</a></h3>
<p>Recursively evaluates a node in a condition tree</p>
<p>*The algorithm assumes that the condition tree structure is valid, meaning:</p>
<ul>
<li>No cycle paths exist in the tree</li>
<li>Each node is only visited once during traversal</li>
<li>All childrenIndexes point to valid nodes within the array bounds
Invalid tree structures could lead to revert, or invalid results.*</li>
</ul>
<pre><code class="language-solidity">function evaluateConditionTree(
  ConditionTree calldata tree,
  uint256 curIndex,
  function(Condition calldata, bytes calldata) view returns (bool) evaluateCondition
) internal view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tree</code></td><td><code>ConditionTree</code></td><td>the condition tree to be evaluated</td></tr>
<tr><td><code>curIndex</code></td><td><code>uint256</code></td><td>index of current node to evaluate (must be &lt; nodes.length and != childIndex)</td></tr>
<tr><td><code>evaluateCondition</code></td><td><code>function (Condition calldata, bytes calldata) view returns (bool)</code></td><td>the custom function holding the logic for evaluating the condition of the leaf node</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if the condition tree is satisfied, false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="isleaf"><a class="header" href="#isleaf">isLeaf</a></h3>
<p>Checks if a node is a leaf node</p>
<pre><code class="language-solidity">function isLeaf(Node calldata node) internal pure returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>node</code></td><td><code>Node</code></td><td>the node to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if the node is a leaf node, false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="istype"><a class="header" href="#istype">isType</a></h3>
<p>Checks if a condition is of a specific type</p>
<pre><code class="language-solidity">function isType(Condition calldata condition, ConditionType conditionType)
  internal
  pure
  returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>condition</code></td><td><code>Condition</code></td><td>the condition to check</td></tr>
<tr><td><code>conditionType</code></td><td><code>ConditionType</code></td><td>the type to check against</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if the condition is of the specified type, false otherwise</td></tr>
</tbody></table>
</div>
<h2 id="errors-17"><a class="header" href="#errors-17">Errors</a></h2>
<h3 id="invalidnodeindex"><a class="header" href="#invalidnodeindex">InvalidNodeIndex</a></h3>
<pre><code class="language-solidity">error InvalidNodeIndex();
</code></pre>
<h3 id="wrongoperationtype"><a class="header" href="#wrongoperationtype">WrongOperationType</a></h3>
<pre><code class="language-solidity">error WrongOperationType();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20data"><a class="header" href="#erc20data">ERC20Data</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ERC20Data.sol">Git Source</a></p>
<p>Data structure for ERC20 token</p>
<pre><code class="language-solidity">struct ERC20Data {
  address token;
  uint256 amount;
  bytes permitData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>The address of the ERC20 token</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of the ERC20 token</td></tr>
<tr><td><code>permitData</code></td><td><code>bytes</code></td><td>The permit data for the ERC20 token</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="erc20datalibrary"><a class="header" href="#erc20datalibrary">ERC20DataLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ERC20Data.sol">Git Source</a></p>
<h2 id="state-variables-13"><a class="header" href="#state-variables-13">State Variables</a></h2>
<h3 id="erc20_data_type_hash"><a class="header" href="#erc20_data_type_hash">ERC20_DATA_TYPE_HASH</a></h3>
<pre><code class="language-solidity">bytes32 constant ERC20_DATA_TYPE_HASH =
  keccak256(abi.encodePacked('ERC20Data(address token,uint256 amount,bytes permitData)'));
</code></pre>
<h2 id="functions-30"><a class="header" href="#functions-30">Functions</a></h2>
<h3 id="hash-1"><a class="header" href="#hash-1">hash</a></h3>
<pre><code class="language-solidity">function hash(ERC20Data calldata self) internal pure returns (bytes32);
</code></pre>
<h3 id="collect-1"><a class="header" href="#collect-1">collect</a></h3>
<pre><code class="language-solidity">function collect(
  address token,
  uint256 amount,
  address mainAddress,
  address actionContract,
  uint256 fee,
  bool approvalFlag,
  IKSGenericForwarder forwarder,
  address feeRecipient
) internal;
</code></pre>
<h3 id="_forwardapproveinf"><a class="header" href="#_forwardapproveinf">_forwardApproveInf</a></h3>
<pre><code class="language-solidity">function _forwardApproveInf(IKSGenericForwarder forwarder, address token, address spender) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc721data"><a class="header" href="#erc721data">ERC721Data</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ERC721Data.sol">Git Source</a></p>
<p>Data structure for ERC721 token</p>
<pre><code class="language-solidity">struct ERC721Data {
  address token;
  uint256 tokenId;
  bytes permitData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>address</code></td><td>The address of the ERC721 token</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the ERC721 token</td></tr>
<tr><td><code>permitData</code></td><td><code>bytes</code></td><td>The permit data for the ERC721 token</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="erc721datalibrary"><a class="header" href="#erc721datalibrary">ERC721DataLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/ERC721Data.sol">Git Source</a></p>
<h2 id="state-variables-14"><a class="header" href="#state-variables-14">State Variables</a></h2>
<h3 id="erc721_data_type_hash"><a class="header" href="#erc721_data_type_hash">ERC721_DATA_TYPE_HASH</a></h3>
<pre><code class="language-solidity">bytes32 constant ERC721_DATA_TYPE_HASH =
  keccak256(abi.encodePacked('ERC721Data(address token,uint256 tokenId,bytes permitData)'));
</code></pre>
<h2 id="functions-31"><a class="header" href="#functions-31">Functions</a></h2>
<h3 id="hash-2"><a class="header" href="#hash-2">hash</a></h3>
<pre><code class="language-solidity">function hash(ERC721Data calldata self) internal pure returns (bytes32);
</code></pre>
<h3 id="collect-2"><a class="header" href="#collect-2">collect</a></h3>
<pre><code class="language-solidity">function collect(
  address token,
  uint256 tokenId,
  address mainAddress,
  address actionContract,
  IKSGenericForwarder forwarder,
  bool approvalFlag
) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="intentcoredata"><a class="header" href="#intentcoredata">IntentCoreData</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/IntentCoreData.sol">Git Source</a></p>
<p>Data structure for core components of intent</p>
<pre><code class="language-solidity">struct IntentCoreData {
  address mainAddress;
  address delegatedAddress;
  address[] actionContracts;
  bytes4[] actionSelectors;
  address hook;
  bytes hookIntentData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mainAddress</code></td><td><code>address</code></td><td>The main address</td></tr>
<tr><td><code>delegatedAddress</code></td><td><code>address</code></td><td>The delegated address</td></tr>
<tr><td><code>actionContracts</code></td><td><code>address[]</code></td><td>The addresses of the action contracts</td></tr>
<tr><td><code>actionSelectors</code></td><td><code>bytes4[]</code></td><td>The selectors of the action functions</td></tr>
<tr><td><code>hook</code></td><td><code>address</code></td><td>The address of the hook</td></tr>
<tr><td><code>hookIntentData</code></td><td><code>bytes</code></td><td>The intent data for the hook</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="intentcoredatalibrary"><a class="header" href="#intentcoredatalibrary">IntentCoreDataLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/IntentCoreData.sol">Git Source</a></p>
<h2 id="state-variables-15"><a class="header" href="#state-variables-15">State Variables</a></h2>
<h3 id="intent_core_data_type_hash"><a class="header" href="#intent_core_data_type_hash">INTENT_CORE_DATA_TYPE_HASH</a></h3>
<pre><code class="language-solidity">bytes32 constant INTENT_CORE_DATA_TYPE_HASH = keccak256(
  abi.encodePacked(
    'IntentCoreData(address mainAddress,address delegatedAddress,address[] actionContracts,bytes4[] actionSelectors,address hook,bytes hookIntentData)'
  )
);
</code></pre>
<h2 id="functions-32"><a class="header" href="#functions-32">Functions</a></h2>
<h3 id="hash-3"><a class="header" href="#hash-3">hash</a></h3>
<pre><code class="language-solidity">function hash(IntentCoreData calldata self) internal pure returns (bytes32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="intentdata"><a class="header" href="#intentdata">IntentData</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/IntentData.sol">Git Source</a></p>
<p>Data structure for intent data</p>
<pre><code class="language-solidity">struct IntentData {
  IntentCoreData coreData;
  TokenData tokenData;
  bytes extraData;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>coreData</code></td><td><code>IntentCoreData</code></td><td>The core data for the intent</td></tr>
<tr><td><code>tokenData</code></td><td><code>TokenData</code></td><td>The token data for the intent</td></tr>
<tr><td><code>extraData</code></td><td><code>bytes</code></td><td>The extra data for the intent</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="intentdatalibrary"><a class="header" href="#intentdatalibrary">IntentDataLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/IntentData.sol">Git Source</a></p>
<h2 id="state-variables-16"><a class="header" href="#state-variables-16">State Variables</a></h2>
<h3 id="intent_data_type_hash"><a class="header" href="#intent_data_type_hash">INTENT_DATA_TYPE_HASH</a></h3>
<pre><code class="language-solidity">bytes32 constant INTENT_DATA_TYPE_HASH = keccak256(
  abi.encodePacked(
    'IntentData(IntentCoreData coreData,TokenData tokenData,bytes extraData)ERC20Data(address token,uint256 amount,bytes permitData)ERC721Data(address token,uint256 tokenId,bytes permitData)IntentCoreData(address mainAddress,address delegatedAddress,address[] actionContracts,bytes4[] actionSelectors,address hook,bytes hookIntentData)TokenData(ERC20Data[] erc20Data,ERC721Data[] erc721Data)'
  )
);
</code></pre>
<h2 id="functions-33"><a class="header" href="#functions-33">Functions</a></h2>
<h3 id="hash-4"><a class="header" href="#hash-4">hash</a></h3>
<pre><code class="language-solidity">function hash(IntentData calldata self) internal pure returns (bytes32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tokendata"><a class="header" href="#tokendata">TokenData</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/TokenData.sol">Git Source</a></p>
<pre><code class="language-solidity">struct TokenData {
  ERC20Data[] erc20Data;
  ERC721Data[] erc721Data;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tokendatalibrary"><a class="header" href="#tokendatalibrary">TokenDataLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/types/TokenData.sol">Git Source</a></p>
<h2 id="state-variables-17"><a class="header" href="#state-variables-17">State Variables</a></h2>
<h3 id="token_data_type_hash"><a class="header" href="#token_data_type_hash">TOKEN_DATA_TYPE_HASH</a></h3>
<pre><code class="language-solidity">bytes32 constant TOKEN_DATA_TYPE_HASH = keccak256(
  abi.encodePacked(
    'TokenData(ERC20Data[] erc20Data,ERC721Data[] erc721Data)ERC20Data(address token,uint256 amount,bytes permitData)ERC721Data(address token,uint256 tokenId,bytes permitData)'
  )
);
</code></pre>
<h2 id="functions-34"><a class="header" href="#functions-34">Functions</a></h2>
<h3 id="hash-5"><a class="header" href="#hash-5">hash</a></h3>
<pre><code class="language-solidity">function hash(TokenData calldata self) internal pure returns (bytes32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-14"><a class="header" href="#contents-14">Contents</a></h1>
<ul>
<li><a href="src/libraries/uniswapv4/FixedPoint96.sol/library.FixedPoint96.html">FixedPoint96</a></li>
<li><a href="src/libraries/uniswapv4/LiquidityAmounts.sol/library.LiquidityAmounts.html">LiquidityAmounts</a></li>
<li><a href="src/libraries/uniswapv4/StateLibrary.sol/library.StateLibrary.html">StateLibrary</a></li>
<li><a href="src/libraries/uniswapv4/TickMath.sol/library.TickMath.html">TickMath</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fixedpoint96"><a class="header" href="#fixedpoint96">FixedPoint96</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/uniswapv4/FixedPoint96.sol">Git Source</a></p>
<p>A library for handling binary fixed point numbers, see https://en.wikipedia.org/wiki/Q_(number_format)</p>
<p><em>Used in SqrtPriceMath.sol</em></p>
<h2 id="state-variables-18"><a class="header" href="#state-variables-18">State Variables</a></h2>
<h3 id="resolution"><a class="header" href="#resolution">RESOLUTION</a></h3>
<pre><code class="language-solidity">uint8 internal constant RESOLUTION = 96;
</code></pre>
<h3 id="q96-1"><a class="header" href="#q96-1">Q96</a></h3>
<pre><code class="language-solidity">uint256 internal constant Q96 = 0x1000000000000000000000000;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="liquidityamounts"><a class="header" href="#liquidityamounts">LiquidityAmounts</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/uniswapv4/LiquidityAmounts.sol">Git Source</a></p>
<p>Provides functions for computing liquidity amounts from token amounts and prices</p>
<h2 id="functions-35"><a class="header" href="#functions-35">Functions</a></h2>
<h3 id="touint128"><a class="header" href="#touint128">toUint128</a></h3>
<p>Downcasts uint256 to uint128</p>
<pre><code class="language-solidity">function toUint128(uint256 x) private pure returns (uint128 y);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>x</code></td><td><code>uint256</code></td><td>The uint258 to be downcasted</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>y</code></td><td><code>uint128</code></td><td>The passed value, downcasted to uint128</td></tr>
</tbody></table>
</div>
<h3 id="getliquidityforamount0"><a class="header" href="#getliquidityforamount0">getLiquidityForAmount0</a></h3>
<p>Computes the amount of liquidity received for a given amount of token0 and price range</p>
<p><em>Calculates amount0 * (sqrt(upper) * sqrt(lower)) / (sqrt(upper) - sqrt(lower))</em></p>
<pre><code class="language-solidity">function getLiquidityForAmount0(uint160 sqrtRatioAX96, uint160 sqrtRatioBX96, uint256 amount0)
  internal
  pure
  returns (uint128 liquidity);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtRatioAX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the first tick boundary</td></tr>
<tr><td><code>sqrtRatioBX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the second tick boundary</td></tr>
<tr><td><code>amount0</code></td><td><code>uint256</code></td><td>The amount0 being sent in</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>The amount of returned liquidity</td></tr>
</tbody></table>
</div>
<h3 id="getliquidityforamount1"><a class="header" href="#getliquidityforamount1">getLiquidityForAmount1</a></h3>
<p>Computes the amount of liquidity received for a given amount of token1 and price range</p>
<p><em>Calculates amount1 / (sqrt(upper) - sqrt(lower)).</em></p>
<pre><code class="language-solidity">function getLiquidityForAmount1(uint160 sqrtRatioAX96, uint160 sqrtRatioBX96, uint256 amount1)
  internal
  pure
  returns (uint128 liquidity);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtRatioAX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the first tick boundary</td></tr>
<tr><td><code>sqrtRatioBX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the second tick boundary</td></tr>
<tr><td><code>amount1</code></td><td><code>uint256</code></td><td>The amount1 being sent in</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>The amount of returned liquidity</td></tr>
</tbody></table>
</div>
<h3 id="getliquidityforamounts"><a class="header" href="#getliquidityforamounts">getLiquidityForAmounts</a></h3>
<p>Computes the maximum amount of liquidity received for a given amount of token0, token1, the current
pool prices and the prices at the tick boundaries</p>
<pre><code class="language-solidity">function getLiquidityForAmounts(
  uint160 sqrtRatioX96,
  uint160 sqrtRatioAX96,
  uint160 sqrtRatioBX96,
  uint256 amount0,
  uint256 amount1
) internal pure returns (uint128 liquidity);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtRatioX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the current pool prices</td></tr>
<tr><td><code>sqrtRatioAX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the first tick boundary</td></tr>
<tr><td><code>sqrtRatioBX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the second tick boundary</td></tr>
<tr><td><code>amount0</code></td><td><code>uint256</code></td><td>The amount of token0 being sent in</td></tr>
<tr><td><code>amount1</code></td><td><code>uint256</code></td><td>The amount of token1 being sent in</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>The maximum amount of liquidity received</td></tr>
</tbody></table>
</div>
<h3 id="getamount0forliquidity"><a class="header" href="#getamount0forliquidity">getAmount0ForLiquidity</a></h3>
<p>Computes the amount of token0 for a given amount of liquidity and a price range</p>
<pre><code class="language-solidity">function getAmount0ForLiquidity(uint160 sqrtRatioAX96, uint160 sqrtRatioBX96, uint128 liquidity)
  internal
  pure
  returns (uint256 amount0);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtRatioAX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the first tick boundary</td></tr>
<tr><td><code>sqrtRatioBX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the second tick boundary</td></tr>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>The liquidity being valued</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount0</code></td><td><code>uint256</code></td><td>The amount of token0</td></tr>
</tbody></table>
</div>
<h3 id="getamount1forliquidity"><a class="header" href="#getamount1forliquidity">getAmount1ForLiquidity</a></h3>
<p>Computes the amount of token1 for a given amount of liquidity and a price range</p>
<pre><code class="language-solidity">function getAmount1ForLiquidity(uint160 sqrtRatioAX96, uint160 sqrtRatioBX96, uint128 liquidity)
  internal
  pure
  returns (uint256 amount1);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtRatioAX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the first tick boundary</td></tr>
<tr><td><code>sqrtRatioBX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the second tick boundary</td></tr>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>The liquidity being valued</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount1</code></td><td><code>uint256</code></td><td>The amount of token1</td></tr>
</tbody></table>
</div>
<h3 id="getamountsforliquidity"><a class="header" href="#getamountsforliquidity">getAmountsForLiquidity</a></h3>
<p>Computes the token0 and token1 value for a given amount of liquidity, the current
pool prices and the prices at the tick boundaries</p>
<pre><code class="language-solidity">function getAmountsForLiquidity(
  uint160 sqrtRatioX96,
  uint160 sqrtRatioAX96,
  uint160 sqrtRatioBX96,
  uint128 liquidity
) internal pure returns (uint256 amount0, uint256 amount1);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtRatioX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the current pool prices</td></tr>
<tr><td><code>sqrtRatioAX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the first tick boundary</td></tr>
<tr><td><code>sqrtRatioBX96</code></td><td><code>uint160</code></td><td>A sqrt price representing the second tick boundary</td></tr>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>The liquidity being valued</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount0</code></td><td><code>uint256</code></td><td>The amount of token0</td></tr>
<tr><td><code>amount1</code></td><td><code>uint256</code></td><td>The amount of token1</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="statelibrary"><a class="header" href="#statelibrary">StateLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/uniswapv4/StateLibrary.sol">Git Source</a></p>
<p>A helper library to provide state getters that use extsload</p>
<h2 id="state-variables-19"><a class="header" href="#state-variables-19">State Variables</a></h2>
<h3 id="pools_slot"><a class="header" href="#pools_slot">POOLS_SLOT</a></h3>
<p>index of pools mapping in the PoolManager</p>
<pre><code class="language-solidity">bytes32 public constant POOLS_SLOT = bytes32(uint256(6));
</code></pre>
<h3 id="fee_growth_global0_offset"><a class="header" href="#fee_growth_global0_offset">FEE_GROWTH_GLOBAL0_OFFSET</a></h3>
<p>index of feeGrowthGlobal0X128 in Pool.State</p>
<pre><code class="language-solidity">uint256 public constant FEE_GROWTH_GLOBAL0_OFFSET = 1;
</code></pre>
<h3 id="liquidity_offset"><a class="header" href="#liquidity_offset">LIQUIDITY_OFFSET</a></h3>
<p>index of liquidity in Pool.State</p>
<pre><code class="language-solidity">uint256 public constant LIQUIDITY_OFFSET = 3;
</code></pre>
<h3 id="ticks_offset"><a class="header" href="#ticks_offset">TICKS_OFFSET</a></h3>
<p>index of TicksInfo mapping in Pool.State: mapping(int24 =&gt; TickInfo) ticks;</p>
<pre><code class="language-solidity">uint256 public constant TICKS_OFFSET = 4;
</code></pre>
<h3 id="tick_bitmap_offset"><a class="header" href="#tick_bitmap_offset">TICK_BITMAP_OFFSET</a></h3>
<p>index of tickBitmap mapping in Pool.State</p>
<pre><code class="language-solidity">uint256 public constant TICK_BITMAP_OFFSET = 5;
</code></pre>
<h3 id="positions_offset"><a class="header" href="#positions_offset">POSITIONS_OFFSET</a></h3>
<p>index of Position.State mapping in Pool.State: mapping(bytes32 =&gt; Position.State) positions;</p>
<pre><code class="language-solidity">uint256 public constant POSITIONS_OFFSET = 6;
</code></pre>
<h3 id="q128-1"><a class="header" href="#q128-1">Q128</a></h3>
<pre><code class="language-solidity">uint256 public constant Q128 = 1 &lt;&lt; 128;
</code></pre>
<h2 id="functions-36"><a class="header" href="#functions-36">Functions</a></h2>
<h3 id="computepositionvalues"><a class="header" href="#computepositionvalues">computePositionValues</a></h3>
<pre><code class="language-solidity">function computePositionValues(
  IPoolManager poolManager,
  IPositionManager positionManager,
  uint256 tokenId,
  uint256 liquidityToRemove
)
  internal
  view
  returns (uint256 amount0, uint256 amount1, uint256 unclaimedFee0, uint256 unclaimedFee1);
</code></pre>
<h3 id="getfeegrowthinside"><a class="header" href="#getfeegrowthinside">getFeeGrowthInside</a></h3>
<pre><code class="language-solidity">function getFeeGrowthInside(
  IPoolManager poolManager,
  bytes32 poolId,
  int24 tickLower,
  int24 tickUpper,
  int24 tickCurrent
) internal view returns (uint256 feeGrowthInside0X128, uint256 feeGrowthInside1X128);
</code></pre>
<h3 id="getpoolid"><a class="header" href="#getpoolid">getPoolId</a></h3>
<pre><code class="language-solidity">function getPoolId(PoolKey memory poolKey) internal pure returns (bytes32 poolId);
</code></pre>
<h3 id="getslot0-1"><a class="header" href="#getslot0-1">getSlot0</a></h3>
<p>Get Slot0 of the pool: sqrtPriceX96, tick, protocolFee, lpFee</p>
<p><em>Corresponds to pools[poolId].slot0</em></p>
<pre><code class="language-solidity">function getSlot0(IPoolManager manager, bytes32 poolId)
  internal
  view
  returns (uint160 sqrtPriceX96, int24 tick, uint24 protocolFee, uint24 lpFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>manager</code></td><td><code>IPoolManager</code></td><td>The pool manager contract.</td></tr>
<tr><td><code>poolId</code></td><td><code>bytes32</code></td><td>The ID of the pool.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtPriceX96</code></td><td><code>uint160</code></td><td>The square root of the price of the pool, in Q96 precision.</td></tr>
<tr><td><code>tick</code></td><td><code>int24</code></td><td>The current tick of the pool.</td></tr>
<tr><td><code>protocolFee</code></td><td><code>uint24</code></td><td>The protocol fee of the pool.</td></tr>
<tr><td><code>lpFee</code></td><td><code>uint24</code></td><td>The swap fee of the pool.</td></tr>
</tbody></table>
</div>
<h3 id="getpositioninfo"><a class="header" href="#getpositioninfo">getPositionInfo</a></h3>
<p>Retrieves the position information of a pool at a specific position ID.</p>
<p><em>Corresponds to pools[poolId].positions[positionId]</em></p>
<pre><code class="language-solidity">function getPositionInfo(IPoolManager manager, bytes32 poolId, bytes32 positionId)
  internal
  view
  returns (uint128 liquidity, uint256 feeGrowthInside0LastX128, uint256 feeGrowthInside1LastX128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>manager</code></td><td><code>IPoolManager</code></td><td>The pool manager contract.</td></tr>
<tr><td><code>poolId</code></td><td><code>bytes32</code></td><td>The ID of the pool.</td></tr>
<tr><td><code>positionId</code></td><td><code>bytes32</code></td><td>The ID of the position.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidity</code></td><td><code>uint128</code></td><td>The liquidity of the position.</td></tr>
<tr><td><code>feeGrowthInside0LastX128</code></td><td><code>uint256</code></td><td>The fee growth inside the position for token0.</td></tr>
<tr><td><code>feeGrowthInside1LastX128</code></td><td><code>uint256</code></td><td>The fee growth inside the position for token1.</td></tr>
</tbody></table>
</div>
<h3 id="calculatepositionkey"><a class="header" href="#calculatepositionkey">calculatePositionKey</a></h3>
<p>A helper function to calculate the position key</p>
<pre><code class="language-solidity">function calculatePositionKey(address owner, int24 tickLower, int24 tickUpper, bytes32 salt)
  internal
  pure
  returns (bytes32 positionKey);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the position owner</td></tr>
<tr><td><code>tickLower</code></td><td><code>int24</code></td><td>the lower tick boundary of the position</td></tr>
<tr><td><code>tickUpper</code></td><td><code>int24</code></td><td>the upper tick boundary of the position</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>A unique value to differentiate between multiple positions in the same range, by the same owner. Passed in by the caller.</td></tr>
</tbody></table>
</div>
<h3 id="getfeegrowthglobals-1"><a class="header" href="#getfeegrowthglobals-1">getFeeGrowthGlobals</a></h3>
<p>Retrieves the global fee growth of a pool.</p>
<p><em>Corresponds to pools[poolId].feeGrowthGlobal0X128 and pools[poolId].feeGrowthGlobal1X128</em></p>
<pre><code class="language-solidity">function getFeeGrowthGlobals(IPoolManager manager, bytes32 poolId)
  internal
  view
  returns (uint256 feeGrowthGlobal0, uint256 feeGrowthGlobal1);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>manager</code></td><td><code>IPoolManager</code></td><td>The pool manager contract.</td></tr>
<tr><td><code>poolId</code></td><td><code>bytes32</code></td><td>The ID of the pool.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feeGrowthGlobal0</code></td><td><code>uint256</code></td><td>The global fee growth for token0.</td></tr>
<tr><td><code>feeGrowthGlobal1</code></td><td><code>uint256</code></td><td>The global fee growth for token1.</td></tr>
</tbody></table>
</div>
<h3 id="gettickfeegrowthoutside"><a class="header" href="#gettickfeegrowthoutside">getTickFeeGrowthOutside</a></h3>
<p>Retrieves the fee growth outside a tick range of a pool</p>
<p><em>Corresponds to pools[poolId].ticks[tick].feeGrowthOutside0X128 and pools[poolId].ticks[tick].feeGrowthOutside1X128. A more gas efficient version of getTickInfo</em></p>
<pre><code class="language-solidity">function getTickFeeGrowthOutside(IPoolManager manager, bytes32 poolId, int24 tick)
  internal
  view
  returns (uint256 feeGrowthOutside0X128, uint256 feeGrowthOutside1X128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>manager</code></td><td><code>IPoolManager</code></td><td>The pool manager contract.</td></tr>
<tr><td><code>poolId</code></td><td><code>bytes32</code></td><td>The ID of the pool.</td></tr>
<tr><td><code>tick</code></td><td><code>int24</code></td><td>The tick to retrieve fee growth for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feeGrowthOutside0X128</code></td><td><code>uint256</code></td><td>fee growth per unit of liquidity on the <em>other</em> side of this tick (relative to the current tick)</td></tr>
<tr><td><code>feeGrowthOutside1X128</code></td><td><code>uint256</code></td><td>fee growth per unit of liquidity on the <em>other</em> side of this tick (relative to the current tick)</td></tr>
</tbody></table>
</div>
<h3 id="_getpositioninfoslot"><a class="header" href="#_getpositioninfoslot">_getPositionInfoSlot</a></h3>
<pre><code class="language-solidity">function _getPositionInfoSlot(bytes32 poolId, bytes32 positionId) internal pure returns (bytes32);
</code></pre>
<h3 id="_gettickinfoslot"><a class="header" href="#_gettickinfoslot">_getTickInfoSlot</a></h3>
<pre><code class="language-solidity">function _getTickInfoSlot(bytes32 poolId, int24 tick) internal pure returns (bytes32);
</code></pre>
<h3 id="_getpoolstateslot"><a class="header" href="#_getpoolstateslot">_getPoolStateSlot</a></h3>
<pre><code class="language-solidity">function _getPoolStateSlot(bytes32 poolId) internal pure returns (bytes32);
</code></pre>
<h3 id="gettickrange"><a class="header" href="#gettickrange">getTickRange</a></h3>
<pre><code class="language-solidity">function getTickRange(uint256 posInfo) internal pure returns (int24 _tickLower, int24 _tickUpper);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tickmath"><a class="header" href="#tickmath">TickMath</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/uniswapv4/TickMath.sol">Git Source</a></p>
<p>Computes sqrt price for ticks of size 1.0001, i.e. sqrt(1.0001^tick) as fixed point Q64.96 numbers. Supports
prices between 2**-128 and 2**128</p>
<h2 id="state-variables-20"><a class="header" href="#state-variables-20">State Variables</a></h2>
<h3 id="min_tick"><a class="header" href="#min_tick">MIN_TICK</a></h3>
<p><em>The minimum tick that may be passed to #getSqrtRatioAtTick computed from log base 1.0001 of 2</em>*-128*</p>
<pre><code class="language-solidity">int24 internal constant MIN_TICK = -887_272;
</code></pre>
<h3 id="max_tick"><a class="header" href="#max_tick">MAX_TICK</a></h3>
<p><em>The maximum tick that may be passed to #getSqrtRatioAtTick computed from log base 1.0001 of 2**128</em></p>
<pre><code class="language-solidity">int24 internal constant MAX_TICK = -MIN_TICK;
</code></pre>
<h3 id="min_sqrt_ratio"><a class="header" href="#min_sqrt_ratio">MIN_SQRT_RATIO</a></h3>
<p><em>The minimum value that can be returned from #getSqrtRatioAtTick. Equivalent to getSqrtRatioAtTick(MIN_TICK)</em></p>
<pre><code class="language-solidity">uint160 internal constant MIN_SQRT_RATIO = 4_295_128_739;
</code></pre>
<h3 id="max_sqrt_ratio"><a class="header" href="#max_sqrt_ratio">MAX_SQRT_RATIO</a></h3>
<p><em>The maximum value that can be returned from #getSqrtRatioAtTick. Equivalent to getSqrtRatioAtTick(MAX_TICK)</em></p>
<pre><code class="language-solidity">uint160 internal constant MAX_SQRT_RATIO =
  1_461_446_703_485_210_103_287_273_052_203_988_822_378_723_970_342;
</code></pre>
<h2 id="functions-37"><a class="header" href="#functions-37">Functions</a></h2>
<h3 id="getsqrtratioattick"><a class="header" href="#getsqrtratioattick">getSqrtRatioAtTick</a></h3>
<p>Calculates sqrt(1.0001^tick) * 2^96</p>
<p><em>Throws if |tick| &gt; max tick</em></p>
<pre><code class="language-solidity">function getSqrtRatioAtTick(int24 tick) internal pure returns (uint160 sqrtP);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tick</code></td><td><code>int24</code></td><td>The input tick for the above formula</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtP</code></td><td><code>uint160</code></td><td>A Fixed point Q64.96 number representing the sqrt of the ratio of the two assets (token1/token0) at the given tick</td></tr>
</tbody></table>
</div>
<h3 id="gettickatsqrtratio"><a class="header" href="#gettickatsqrtratio">getTickAtSqrtRatio</a></h3>
<p>Calculates the greatest tick value such that getRatioAtTick(tick) &lt;= ratio</p>
<p><em>Throws in case sqrtP &lt; MIN_SQRT_RATIO, as MIN_SQRT_RATIO is the lowest value getRatioAtTick may
ever return.</em></p>
<pre><code class="language-solidity">function getTickAtSqrtRatio(uint160 sqrtP) internal pure returns (int24 tick);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sqrtP</code></td><td><code>uint160</code></td><td>The sqrt ratio for which to compute the tick as a Q64.96</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tick</code></td><td><code>int24</code></td><td>The greatest tick for which the ratio is less than or equal to the input ratio</td></tr>
</tbody></table>
</div>
<h3 id="getmaxnumberticks"><a class="header" href="#getmaxnumberticks">getMaxNumberTicks</a></h3>
<pre><code class="language-solidity">function getMaxNumberTicks(int24 _tickDistance) internal pure returns (uint24 numTicks);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hooklibrary"><a class="header" href="#hooklibrary">HookLibrary</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/libraries/HookLibrary.sol">Git Source</a></p>
<h2 id="functions-38"><a class="header" href="#functions-38">Functions</a></h2>
<h3 id="beforeexecution-9"><a class="header" href="#beforeexecution-9">beforeExecution</a></h3>
<pre><code class="language-solidity">function beforeExecution(
  bytes32 intentHash,
  IntentData calldata intentData,
  address feeRecipient,
  ActionData calldata actionData
) internal returns (uint256[] memory fees, bytes memory beforeExecutionData);
</code></pre>
<h3 id="afterexecution-9"><a class="header" href="#afterexecution-9">afterExecution</a></h3>
<pre><code class="language-solidity">function afterExecution(
  bytes32 intentHash,
  IntentData calldata intentData,
  address feeRecipient,
  bytes memory beforeExecutionData,
  bytes memory actionResult
) internal;
</code></pre>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<h3 id="recordfeeandvolume"><a class="header" href="#recordfeeandvolume">RecordFeeAndVolume</a></h3>
<pre><code class="language-solidity">event RecordFeeAndVolume(
  address indexed token, address indexed feeRecipient, uint256 fee, uint256 volume
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kssmartintentrouter"><a class="header" href="#kssmartintentrouter">KSSmartIntentRouter</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/KSSmartIntentRouter.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/KSSmartIntentRouter.sol//src/KSSmartIntentRouterAccounting.sol/abstract.KSSmartIntentRouterAccounting.html">KSSmartIntentRouterAccounting</a>, <a href="src/KSSmartIntentRouter.sol//src/KSSmartIntentRouterNonces.sol/abstract.KSSmartIntentRouterNonces.html">KSSmartIntentRouterNonces</a>, ReentrancyGuardTransient, EIP712</p>
<h2 id="functions-39"><a class="header" href="#functions-39">Functions</a></h2>
<h3 id="constructor-8"><a class="header" href="#constructor-8">constructor</a></h3>
<pre><code class="language-solidity">constructor(
  address initialAdmin,
  address[] memory initialGuardians,
  address[] memory initialRescuers,
  address[] memory initialActionContracts,
  address _feeRecipient,
  address _forwarder
) ManagementBase(0, initialAdmin);
</code></pre>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="hashtypedintentdata-1"><a class="header" href="#hashtypedintentdata-1">hashTypedIntentData</a></h3>
<p>Hash the intent data with EIP712</p>
<pre><code class="language-solidity">function hashTypedIntentData(IntentData calldata intentData) public view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The intent data</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>hash The hash of the intent data</td></tr>
</tbody></table>
</div>
<h3 id="hashtypedactiondata-1"><a class="header" href="#hashtypedactiondata-1">hashTypedActionData</a></h3>
<p>Hash the action data with EIP712</p>
<pre><code class="language-solidity">function hashTypedActionData(ActionData calldata actionData) public view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>The action data</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>hash The hash of the action data</td></tr>
</tbody></table>
</div>
<h3 id="updateforwarder-2"><a class="header" href="#updateforwarder-2">updateForwarder</a></h3>
<p>Update the forwarder address</p>
<pre><code class="language-solidity">function updateForwarder(address newForwarder) public onlyRole(DEFAULT_ADMIN_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newForwarder</code></td><td><code>address</code></td><td>The new forwarder address</td></tr>
</tbody></table>
</div>
<h3 id="_updateforwarder"><a class="header" href="#_updateforwarder">_updateForwarder</a></h3>
<pre><code class="language-solidity">function _updateForwarder(address newForwarder) internal;
</code></pre>
<h3 id="updatefeerecipient-2"><a class="header" href="#updatefeerecipient-2">updateFeeRecipient</a></h3>
<p>Update the intent fee recipient</p>
<pre><code class="language-solidity">function updateFeeRecipient(address newFeeRecipient) public onlyRole(DEFAULT_ADMIN_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newFeeRecipient</code></td><td><code>address</code></td><td>The new intent fee recipient</td></tr>
</tbody></table>
</div>
<h3 id="_updatefeerecipient"><a class="header" href="#_updatefeerecipient">_updateFeeRecipient</a></h3>
<pre><code class="language-solidity">function _updateFeeRecipient(address newFeeRecipient) internal;
</code></pre>
<h3 id="delegate-1"><a class="header" href="#delegate-1">delegate</a></h3>
<p>Delegate the intent to the delegated address</p>
<pre><code class="language-solidity">function delegate(IntentData calldata intentData) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The data for the intent</td></tr>
</tbody></table>
</div>
<h3 id="revoke-1"><a class="header" href="#revoke-1">revoke</a></h3>
<p>Revoke the delegated intent</p>
<pre><code class="language-solidity">function revoke(IntentData calldata intentData) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The intent data to revoke</td></tr>
</tbody></table>
</div>
<h3 id="execute-1"><a class="header" href="#execute-1">execute</a></h3>
<p>Execute the intent</p>
<pre><code class="language-solidity">function execute(
  IntentData calldata intentData,
  bytes memory daSignature,
  address guardian,
  bytes memory gdSignature,
  ActionData calldata actionData
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The data for the intent</td></tr>
<tr><td><code>daSignature</code></td><td><code>bytes</code></td><td>The signature of the delegated address</td></tr>
<tr><td><code>guardian</code></td><td><code>address</code></td><td>The address of the guardian</td></tr>
<tr><td><code>gdSignature</code></td><td><code>bytes</code></td><td>The signature of the guardian</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>The data for the action</td></tr>
</tbody></table>
</div>
<h3 id="executewithsignedintent-1"><a class="header" href="#executewithsignedintent-1">executeWithSignedIntent</a></h3>
<p>Execute the intent with the signed data and main address signature</p>
<pre><code class="language-solidity">function executeWithSignedIntent(
  IntentData calldata intentData,
  bytes memory maSignature,
  bytes memory daSignature,
  address guardian,
  bytes memory gdSignature,
  ActionData calldata actionData
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>intentData</code></td><td><code>IntentData</code></td><td>The data for the intent</td></tr>
<tr><td><code>maSignature</code></td><td><code>bytes</code></td><td>The signature of the main address</td></tr>
<tr><td><code>daSignature</code></td><td><code>bytes</code></td><td>The signature of the delegated address</td></tr>
<tr><td><code>guardian</code></td><td><code>address</code></td><td>The address of the guardian</td></tr>
<tr><td><code>gdSignature</code></td><td><code>bytes</code></td><td>The signature of the guardian</td></tr>
<tr><td><code>actionData</code></td><td><code>ActionData</code></td><td>The data for the action</td></tr>
</tbody></table>
</div>
<h3 id="_delegate"><a class="header" href="#_delegate">_delegate</a></h3>
<pre><code class="language-solidity">function _delegate(IntentData calldata intentData, bytes32 intentHash)
  internal
  checkLengths(intentData.coreData.actionContracts.length, intentData.coreData.actionSelectors.length);
</code></pre>
<h3 id="_execute"><a class="header" href="#_execute">_execute</a></h3>
<pre><code class="language-solidity">function _execute(
  bytes32 intentHash,
  IntentData calldata intentData,
  bytes memory daSignature,
  address guardian,
  bytes memory gdSignature,
  ActionData calldata actionData
) internal nonReentrant;
</code></pre>
<h3 id="_needforwarder"><a class="header" href="#_needforwarder">_needForwarder</a></h3>
<pre><code class="language-solidity">function _needForwarder(bytes4 selector) internal view returns (IKSGenericForwarder);
</code></pre>
<h3 id="_validateactiondata"><a class="header" href="#_validateactiondata">_validateActionData</a></h3>
<pre><code class="language-solidity">function _validateActionData(
  IntentCoreData calldata coreData,
  bytes memory daSignature,
  address guardian,
  bytes memory gdSignature,
  bytes32 actionHash
) internal view;
</code></pre>
<h3 id="_checkintentstatus"><a class="header" href="#_checkintentstatus">_checkIntentStatus</a></h3>
<pre><code class="language-solidity">function _checkIntentStatus(bytes32 intentHash, IntentStatus expectedStatus) internal view;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kssmartintentrouteraccounting"><a class="header" href="#kssmartintentrouteraccounting">KSSmartIntentRouterAccounting</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/KSSmartIntentRouterAccounting.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/KSSmartIntentRouterAccounting.sol//src/KSSmartIntentStorage.sol/abstract.KSSmartIntentStorage.html">KSSmartIntentStorage</a>, ManagementRescuable</p>
<h2 id="state-variables-21"><a class="header" href="#state-variables-21">State Variables</a></h2>
<h3 id="erc20allowances-1"><a class="header" href="#erc20allowances-1">erc20Allowances</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; mapping(address =&gt; uint256)) public erc20Allowances;
</code></pre>
<h2 id="functions-40"><a class="header" href="#functions-40">Functions</a></h2>
<h3 id="_approvetokens"><a class="header" href="#_approvetokens">_approveTokens</a></h3>
<p>Set the tokens' allowances for the intent</p>
<pre><code class="language-solidity">function _approveTokens(bytes32 intentHash, TokenData calldata tokenData, address mainAddress)
  internal;
</code></pre>
<h3 id="_collecttokens"><a class="header" href="#_collecttokens">_collectTokens</a></h3>
<p>Transfer the tokens to this contract and update the allowances</p>
<pre><code class="language-solidity">function _collectTokens(
  bytes32 intentHash,
  address mainAddress,
  address actionContract,
  TokenData calldata tokenData,
  ActionData calldata actionData,
  IKSGenericForwarder _forwarder,
  uint256[] memory fees
) internal checkLengths(actionData.erc20Ids.length, actionData.erc20Amounts.length);
</code></pre>
<h3 id="_spentallowance"><a class="header" href="#_spentallowance">_spentAllowance</a></h3>
<pre><code class="language-solidity">function _spentAllowance(bytes32 intentHash, address token, uint256 amount) internal;
</code></pre>
<h3 id="onerc721received"><a class="header" href="#onerc721received">onERC721Received</a></h3>
<pre><code class="language-solidity">function onERC721Received(address, address, uint256, bytes calldata) external pure returns (bytes4);
</code></pre>
<h3 id="supportsinterface"><a class="header" href="#supportsinterface">supportsInterface</a></h3>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId) public view override returns (bool);
</code></pre>
<h3 id="_checkflag"><a class="header" href="#_checkflag">_checkFlag</a></h3>
<pre><code class="language-solidity">function _checkFlag(uint256 flag, uint256 index) internal pure returns (bool result);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kssmartintentrouternonces"><a class="header" href="#kssmartintentrouternonces">KSSmartIntentRouterNonces</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/KSSmartIntentRouterNonces.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/KSSmartIntentRouterNonces.sol//src/interfaces/IKSSmartIntentRouter.sol/interface.IKSSmartIntentRouter.html">IKSSmartIntentRouter</a></p>
<h2 id="state-variables-22"><a class="header" href="#state-variables-22">State Variables</a></h2>
<h3 id="nonces-1"><a class="header" href="#nonces-1">nonces</a></h3>
<p>mapping of nonces consumed by each intent, where a nonce is a single bit on the 256-bit bitmap</p>
<p><em>word is at most type(uint248).max</em></p>
<pre><code class="language-solidity">mapping(bytes32 intentHash =&gt; mapping(uint256 word =&gt; uint256 bitmap)) public nonces;
</code></pre>
<h2 id="functions-41"><a class="header" href="#functions-41">Functions</a></h2>
<h3 id="_useunorderednonce"><a class="header" href="#_useunorderednonce">_useUnorderedNonce</a></h3>
<pre><code class="language-solidity">function _useUnorderedNonce(bytes32 intentHash, uint256 nonce) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kssmartintentstorage"><a class="header" href="#kssmartintentstorage">KSSmartIntentStorage</a></h1>
<p><a href="https://github.com/KyberNetwork/smart-intent-sc/blob/93222d2e196228c709f4e585edadefb65277a3e4/src/KSSmartIntentStorage.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/KSSmartIntentStorage.sol//src/interfaces/IKSSmartIntentRouter.sol/interface.IKSSmartIntentRouter.html">IKSSmartIntentRouter</a></p>
<h2 id="state-variables-23"><a class="header" href="#state-variables-23">State Variables</a></h2>
<h3 id="action_contract_role"><a class="header" href="#action_contract_role">ACTION_CONTRACT_ROLE</a></h3>
<pre><code class="language-solidity">bytes32 internal constant ACTION_CONTRACT_ROLE = keccak256('ACTION_CONTRACT_ROLE');
</code></pre>
<h3 id="intentstatuses"><a class="header" href="#intentstatuses">intentStatuses</a></h3>
<pre><code class="language-solidity">mapping(bytes32 =&gt; IntentStatus) internal intentStatuses;
</code></pre>
<h3 id="forwarder"><a class="header" href="#forwarder">forwarder</a></h3>
<pre><code class="language-solidity">IKSGenericForwarder internal forwarder;
</code></pre>
<h3 id="feerecipient"><a class="header" href="#feerecipient">feeRecipient</a></h3>
<pre><code class="language-solidity">address internal feeRecipient;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>


    </div>
    </body>
</html>
